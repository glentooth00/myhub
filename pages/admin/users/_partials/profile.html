<include>_partials/profile.css</include>
<div class="content-wrapper">
  <header>
    <h1><i class="fa fa-vcard fa-lg"></i>&nbsp;<?=$user->first_name . " " . $user->last_name?></h1>
    <h4 class="py1">UID: <?=$user->user_id?></h4>
  </header>
  <section class="flex-row flex-gap">
    <button class="btn-round btn-primary" type="button"><span>A</span></button>
    <button class="btn-round btn-primary" type="button"><span>B</span></button>
    <if x="$isMyProfile or $super">
    <button class="btn-round btn-primary" type="button" data-tippy-content="Change Password"
      onclick="F1.app.showChangePasswordForm()">
      <i class="fa fa-key fa-lg"></i>
    </button>
    </if>
  </section>
  <section>
    <ul>
      <li><label>Username:</label> <span><?=$user->username?></span></li>
      <li><label>Email:</label> <span><?=$user->email?></span></li>
      <li><label>Status:</label> <span><?=$user->status?></span></li>
      <li><label>Role:</label> <span><?=$roles[$user->role_id] ?? '-'?></span></li>
      <li><label>Created At:</label> <span><?=$user->created_at?></span></li>
      <li><label>Updated At:</label> <span><?=$user->updated_at?></span></li>
      <li><label>Last Login At:</label> <span><?=$user->last_login_at?></span></li>
      <li><label>Last Activity At:</label> <span><?=$user->last_activity_at?></span></li>
      <li><label>Failed Login Attempts:</label> <span><?=$user->failed_logins?></span></li>
    </ul>      
  </section>
</div>
<button class="fab btn-round btn-primary" type="button" data-tippy-content="Edit"
  onclick="F1.app.navigateTo({url:'admin/users?view=edit&id=<?=$id?>', view:'edit', title:'User Form'})">
  <i class="fa fa-edit fa-lg"></i>
</button>
<form id="changePasswordForm" onsubmit="F1.app.submitChangePassword(event)" hidden>
  <input type="hidden" name="user_id" value="<?=$user->id?>">
  <label for="newPassword">New Password</label>
  <input type="password" id="newPassword" name="newPassword" required>
  <label for="confirmPassword">Confirm New Password</label>
  <input type="password" id="confirmPassword" name="confirmPassword" required>
  <input type="submit" class="btn-primary" value="Change Password">
</form>

<include>_partials/profile.js</include>