<include>_partials/trades.css</include>
<div class="container">

  <section>
    <p>Filter Bar...</p>
  </section>
 
  <section class="flex-row flex-gap">
    <div class="left-col flex-col">
      <header>
        <hr>
        <div class="flex-row space-between">
          <div class="flex-col"><h3><?=$operation->description?></h3></div>
          <div class="flex-col">
            <button class="btn-sm text-primary" type="button" data-tippy-content="Export to CSV" 
              onclick="F1.app.exportToCsv('resultsTable')">
              <i class="fa fa-download"></i>&nbsp;
            </button>
          </div>
        </div>          
        <hr>
      </header>      
      <div class="table-responsive">
        <table id="resultsTable">
          <thead>
            <tr>
              <th>#</th>
              <th>Trade ID</th>
              <th>Client</th>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </thead>
          <tbody>
            <foreach x="$trades as $i => $trade">
            <eval>$url = 'admin/trades?view=details&id='.$trade->id</eval>
            <tr id="c<?=$trade->id?>">
              <td><?=$i+1?></td>
              <td>
                <a href="<?=$url?>"
                  onclick="F1.app.navigateTo({event, view:'details', title:'Trade Details'});">
                  <?=$trade->trade_id?>
                </a>
              </td>
              <td><?=escape($trade->client_name)?></td>
            </tr>
            </foreach>
          </tbody>
        </table>
      </div>
    </div>
    <aside class="right-col flex-col">
      <header>
        <hr>
        <h3>Trades to Process</h3>
        <hr>
      </header>
    </aside>
  </section>
</div>
<script src="vendors/F1/js/csv.js"></script>
<include>_partials/trades.js</include>