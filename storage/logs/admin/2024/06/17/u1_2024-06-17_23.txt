2024-06-17 23:08:17 - *** USER LOG ***
2024-06-17 23:08:17 - U1, Sysadmin


2024-06-17 23:08:17 - *** PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:17 - GET /admin/dashboard
[Request]:	2024-06-17 23:08:17 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:08:17 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:17 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:17 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:17 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:17 - db::query()
[Debug]:	2024-06-17 23:08:17 - db::buildQuery()
[Debug]:	2024-06-17 23:08:17 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:08:23 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:23 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:08:23 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:08:23 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:23 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:23 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:23 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:23 - db::query()
[Debug]:	2024-06-17 23:08:23 - db::buildQuery()
[Debug]:	2024-06-17 23:08:23 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:23 - db::query()
[Debug]:	2024-06-17 23:08:23 - db::buildQuery()
[Debug]:	2024-06-17 23:08:23 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:08:23 - db::query()
[Debug]:	2024-06-17 23:08:23 - db::buildQuery()
[Debug]:	2024-06-17 23:08:23 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:08:23 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:08:23 - db::query()
[Debug]:	2024-06-17 23:08:23 - db::buildQuery()
[Debug]:	2024-06-17 23:08:23 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:08:25 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:25 - AJAX GET /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:08:25 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:08:25 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:25 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:25 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:25 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:25 - getClientById(), id = new
[Debug]:	2024-06-17 23:08:25 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 169998a3
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:08:25 - Editing client: stdClass Object
(
    [id] => 
    [client_id] => 169998a3
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND id != ? ORDER BY name asc
    [1] => [null,"new"]
)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM banks ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:08:25 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)

[Debug]:	2024-06-17 23:08:25 - db::query()
[Debug]:	2024-06-17 23:08:25 - db::buildQuery()
[Debug]:	2024-06-17 23:08:25 - db::query(), Array
(
    [0] => SELECT * FROM ch_ncrs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:25 - attrsStr = 
[Debug]:	2024-06-17 23:08:25 - inclFileRef = _partials/edit.css
[Debug]:	2024-06-17 23:08:25 - props = Array
(
)

[Debug]:	2024-06-17 23:08:25 - fileToInclude = C:\laragon\www\myhub\pages\admin\clients\_partials/edit.css
[Debug]:	2024-06-17 23:08:25 - attrsStr = 
[Debug]:	2024-06-17 23:08:25 - inclFileRef = _partials/edit.js
[Debug]:	2024-06-17 23:08:25 - props = Array
(
)

[Debug]:	2024-06-17 23:08:25 - fileToInclude = C:\laragon\www\myhub\pages\admin\clients\_partials/edit.js


2024-06-17 23:08:31 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:31 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:08:31 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:08:31 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:31 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:31 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:31 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:31 - db::query()
[Debug]:	2024-06-17 23:08:31 - db::buildQuery()
[Debug]:	2024-06-17 23:08:31 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:31 - db::query()
[Debug]:	2024-06-17 23:08:31 - db::buildQuery()
[Debug]:	2024-06-17 23:08:31 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:08:31 - db::query()
[Debug]:	2024-06-17 23:08:31 - db::buildQuery()
[Debug]:	2024-06-17 23:08:31 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:08:31 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:08:31 - db::query()
[Debug]:	2024-06-17 23:08:31 - db::buildQuery()
[Debug]:	2024-06-17 23:08:31 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:08:33 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:33 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:08:33 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:08:33 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:33 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:33 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:33 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:33 - db::query()
[Debug]:	2024-06-17 23:08:33 - db::buildQuery()
[Debug]:	2024-06-17 23:08:33 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:08:34 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:34 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:08:34 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:08:34 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:34 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:34 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:34 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:34 - db::query()
[Debug]:	2024-06-17 23:08:34 - db::buildQuery()
[Debug]:	2024-06-17 23:08:34 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:34 - db::query()
[Debug]:	2024-06-17 23:08:34 - db::buildQuery()
[Debug]:	2024-06-17 23:08:34 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:08:34 - db::query()
[Debug]:	2024-06-17 23:08:34 - db::buildQuery()
[Debug]:	2024-06-17 23:08:34 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:08:34 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:08:34 - db::query()
[Debug]:	2024-06-17 23:08:34 - db::buildQuery()
[Debug]:	2024-06-17 23:08:34 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:08:37 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:37 - AJAX GET /admin/tccs?view=edit&id=new
[Request]:	2024-06-17 23:08:37 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:08:37 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:37 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:37 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:37 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:37 - db::query()
[Debug]:	2024-06-17 23:08:37 - db::buildQuery()
[Debug]:	2024-06-17 23:08:37 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:37 - getTccById(), id = new
[Debug]:	2024-06-17 23:08:37 - Editing tcc: stdClass Object
(
    [id] => 
    [tcc_id] => e0d541d4-ad36-431c-94cb-7f11d6a7bd1d
    [client_id] => 
    [status] => Pending
    [application_date] => 
    [date] => 
    [amount_cleared] => 
    [amount_reserved] => 
    [rollover] => 
    [amount_cleared_net] => 
    [amount_used] => 
    [amount_remaining] => 
    [amount_available] => 
    [expired] => 
    [tcc_pin] => 
    [notes] => 
    [allocated_trades] => 
    [tax_case_no] => 
    [tax_cert_pdf] => 
    [created_at] => 
    [created_by] => 
    [updated_at] => 
    [updated_by] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:08:37 - db::query()
[Debug]:	2024-06-17 23:08:37 - db::buildQuery()
[Debug]:	2024-06-17 23:08:37 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)

[Debug]:	2024-06-17 23:08:37 - attrsStr = 
[Debug]:	2024-06-17 23:08:37 - inclFileRef = _partials/edit.css
[Debug]:	2024-06-17 23:08:37 - props = Array
(
)

[Debug]:	2024-06-17 23:08:37 - fileToInclude = C:\laragon\www\myhub\pages\admin\tccs\_partials/edit.css
[Debug]:	2024-06-17 23:08:37 - attrsStr = 
[Debug]:	2024-06-17 23:08:37 - inclFileRef = _partials/edit.js
[Debug]:	2024-06-17 23:08:37 - props = Array
(
)

[Debug]:	2024-06-17 23:08:37 - fileToInclude = C:\laragon\www\myhub\pages\admin\tccs\_partials/edit.js


2024-06-17 23:08:39 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:39 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:08:39 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:08:39 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:39 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:39 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:39 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:39 - db::query()
[Debug]:	2024-06-17 23:08:39 - db::buildQuery()
[Debug]:	2024-06-17 23:08:39 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:39 - db::query()
[Debug]:	2024-06-17 23:08:39 - db::buildQuery()
[Debug]:	2024-06-17 23:08:39 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:08:39 - db::query()
[Debug]:	2024-06-17 23:08:39 - db::buildQuery()
[Debug]:	2024-06-17 23:08:39 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:08:39 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:08:39 - db::query()
[Debug]:	2024-06-17 23:08:39 - db::buildQuery()
[Debug]:	2024-06-17 23:08:39 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:08:40 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:40 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:08:40 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:08:40 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:40 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:40 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:40 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:40 - db::query()
[Debug]:	2024-06-17 23:08:40 - db::buildQuery()
[Debug]:	2024-06-17 23:08:40 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:08:42 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:42 - AJAX GET /admin/settings?back=dashboard
[Request]:	2024-06-17 23:08:42 - File: C:\laragon\www\myhub\pages\admin\settings\settings.php
[Request]:	2024-06-17 23:08:42 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:42 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:42 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:42 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:42 - db::query()
[Debug]:	2024-06-17 23:08:42 - db::buildQuery()
[Debug]:	2024-06-17 23:08:42 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:08:46 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:46 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:08:46 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:08:46 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:46 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:46 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:46 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:46 - db::query()
[Debug]:	2024-06-17 23:08:46 - db::buildQuery()
[Debug]:	2024-06-17 23:08:46 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:08:47 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:47 - AJAX GET /admin/referrers?back=dashboard
[Request]:	2024-06-17 23:08:47 - File: C:\laragon\www\myhub\pages\admin\referrers\referrers.php
[Request]:	2024-06-17 23:08:47 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:47 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:47 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:47 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:47 - db::query()
[Debug]:	2024-06-17 23:08:47 - db::buildQuery()
[Debug]:	2024-06-17 23:08:47 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:47 - db::query()
[Debug]:	2024-06-17 23:08:47 - db::buildQuery()
[Debug]:	2024-06-17 23:08:47 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)



2024-06-17 23:08:48 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:48 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:08:48 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:08:48 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:48 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:48 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:48 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:48 - db::query()
[Debug]:	2024-06-17 23:08:48 - db::buildQuery()
[Debug]:	2024-06-17 23:08:48 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:08:49 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:49 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:08:49 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:08:49 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:49 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:49 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:49 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:49 - db::query()
[Debug]:	2024-06-17 23:08:49 - db::buildQuery()
[Debug]:	2024-06-17 23:08:49 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:49 - db::query()
[Debug]:	2024-06-17 23:08:49 - db::buildQuery()
[Debug]:	2024-06-17 23:08:49 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:08:49 - db::query()
[Debug]:	2024-06-17 23:08:49 - db::buildQuery()
[Debug]:	2024-06-17 23:08:49 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:08:49 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:08:49 - db::query()
[Debug]:	2024-06-17 23:08:49 - db::buildQuery()
[Debug]:	2024-06-17 23:08:49 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:08:50 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:08:50 - AJAX GET /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:08:50 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:08:50 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:08:50 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:08:50 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:08:50 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:08:50 - getClientById(), id = new
[Debug]:	2024-06-17 23:08:50 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 182d4fd7
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:08:50 - Editing client: stdClass Object
(
    [id] => 
    [client_id] => 182d4fd7
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND id != ? ORDER BY name asc
    [1] => [null,"new"]
)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM banks ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:08:50 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)

[Debug]:	2024-06-17 23:08:50 - db::query()
[Debug]:	2024-06-17 23:08:50 - db::buildQuery()
[Debug]:	2024-06-17 23:08:50 - db::query(), Array
(
    [0] => SELECT * FROM ch_ncrs ORDER BY name
    [1] => []
)



2024-06-17 23:09:50 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:09:50 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:09:50 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:09:50 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:09:50 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:09:50 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:09:50 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:09:50 - db::query()
[Debug]:	2024-06-17 23:09:50 - db::buildQuery()
[Debug]:	2024-06-17 23:09:50 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:09:50 - db::query()
[Debug]:	2024-06-17 23:09:50 - db::buildQuery()
[Debug]:	2024-06-17 23:09:50 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:09:50 - db::query()
[Debug]:	2024-06-17 23:09:50 - db::buildQuery()
[Debug]:	2024-06-17 23:09:50 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:09:50 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:09:50 - db::query()
[Debug]:	2024-06-17 23:09:50 - db::buildQuery()
[Debug]:	2024-06-17 23:09:50 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:09:52 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:09:52 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:09:52 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:09:52 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:09:52 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:09:52 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:09:52 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:09:52 - db::query()
[Debug]:	2024-06-17 23:09:52 - db::buildQuery()
[Debug]:	2024-06-17 23:09:52 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:09:56 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:09:56 - AJAX GET /admin/trades?back=dashboard
[Request]:	2024-06-17 23:09:56 - File: C:\laragon\www\myhub\pages\admin\trades\trades.php
[Request]:	2024-06-17 23:09:56 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:09:56 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:09:56 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:09:56 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:09:56 - db::query()
[Debug]:	2024-06-17 23:09:56 - db::buildQuery()
[Debug]:	2024-06-17 23:09:56 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:09:56 - db::query()
[Debug]:	2024-06-17 23:09:56 - db::buildQuery()
[Debug]:	2024-06-17 23:09:56 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:09:56 - db::query()
[Debug]:	2024-06-17 23:09:56 - db::buildQuery()
[Debug]:	2024-06-17 23:09:56 - db::query(), Array
(
    [0] => SELECT * FROM view_trades WHERE date >= ? ORDER BY date DESC
    [1] => ["2024-06-17"]
)



2024-06-17 23:09:57 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:09:57 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:09:57 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:09:57 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:09:57 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:09:57 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:09:57 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:09:57 - db::query()
[Debug]:	2024-06-17 23:09:57 - db::buildQuery()
[Debug]:	2024-06-17 23:09:57 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:09:58 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:09:58 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:09:58 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:09:58 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:09:58 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:09:58 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:09:58 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:09:58 - db::query()
[Debug]:	2024-06-17 23:09:58 - db::buildQuery()
[Debug]:	2024-06-17 23:09:58 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:09:58 - db::query()
[Debug]:	2024-06-17 23:09:58 - db::buildQuery()
[Debug]:	2024-06-17 23:09:58 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:09:58 - db::query()
[Debug]:	2024-06-17 23:09:58 - db::buildQuery()
[Debug]:	2024-06-17 23:09:58 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:09:58 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:09:58 - db::query()
[Debug]:	2024-06-17 23:09:58 - db::buildQuery()
[Debug]:	2024-06-17 23:09:58 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:09:59 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:09:59 - AJAX GET /admin/tccs?view=edit&id=new
[Request]:	2024-06-17 23:09:59 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:09:59 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:09:59 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:09:59 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:09:59 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:09:59 - db::query()
[Debug]:	2024-06-17 23:09:59 - db::buildQuery()
[Debug]:	2024-06-17 23:09:59 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:09:59 - getTccById(), id = new
[Debug]:	2024-06-17 23:09:59 - Editing tcc: stdClass Object
(
    [id] => 
    [tcc_id] => e634e716-d535-4783-a361-a530de7ec673
    [client_id] => 
    [status] => Pending
    [application_date] => 
    [date] => 
    [amount_cleared] => 
    [amount_reserved] => 
    [rollover] => 
    [amount_cleared_net] => 
    [amount_used] => 
    [amount_remaining] => 
    [amount_available] => 
    [expired] => 
    [tcc_pin] => 
    [notes] => 
    [allocated_trades] => 
    [tax_case_no] => 
    [tax_cert_pdf] => 
    [created_at] => 
    [created_by] => 
    [updated_at] => 
    [updated_by] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:09:59 - db::query()
[Debug]:	2024-06-17 23:09:59 - db::buildQuery()
[Debug]:	2024-06-17 23:09:59 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)



2024-06-17 23:10:06 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:06 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:10:06 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:10:06 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:06 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:06 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:06 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:06 - db::query()
[Debug]:	2024-06-17 23:10:06 - db::buildQuery()
[Debug]:	2024-06-17 23:10:06 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:10:06 - db::query()
[Debug]:	2024-06-17 23:10:06 - db::buildQuery()
[Debug]:	2024-06-17 23:10:06 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:10:06 - db::query()
[Debug]:	2024-06-17 23:10:06 - db::buildQuery()
[Debug]:	2024-06-17 23:10:06 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:10:06 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:10:06 - db::query()
[Debug]:	2024-06-17 23:10:06 - db::buildQuery()
[Debug]:	2024-06-17 23:10:06 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:10:09 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:09 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:10:09 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:10:09 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:09 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:09 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:09 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:09 - db::query()
[Debug]:	2024-06-17 23:10:09 - db::buildQuery()
[Debug]:	2024-06-17 23:10:09 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:10:17 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:17 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:10:17 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:10:17 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:17 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:17 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:17 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:17 - db::query()
[Debug]:	2024-06-17 23:10:17 - db::buildQuery()
[Debug]:	2024-06-17 23:10:17 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:10:17 - db::query()
[Debug]:	2024-06-17 23:10:17 - db::buildQuery()
[Debug]:	2024-06-17 23:10:17 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:10:17 - db::query()
[Debug]:	2024-06-17 23:10:17 - db::buildQuery()
[Debug]:	2024-06-17 23:10:17 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:10:17 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:10:17 - db::query()
[Debug]:	2024-06-17 23:10:17 - db::buildQuery()
[Debug]:	2024-06-17 23:10:17 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:10:18 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:18 - AJAX GET /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:10:18 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:10:18 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:18 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:18 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:18 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:10:18 - getClientById(), id = new
[Debug]:	2024-06-17 23:10:18 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 1dab6270
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:10:18 - Editing client: stdClass Object
(
    [id] => 
    [client_id] => 1dab6270
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND id != ? ORDER BY name asc
    [1] => [null,"new"]
)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM banks ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:10:18 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)

[Debug]:	2024-06-17 23:10:18 - db::query()
[Debug]:	2024-06-17 23:10:18 - db::buildQuery()
[Debug]:	2024-06-17 23:10:18 - db::query(), Array
(
    [0] => SELECT * FROM ch_ncrs ORDER BY name
    [1] => []
)



2024-06-17 23:10:41 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:41 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:10:41 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:10:41 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:41 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:41 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:41 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:41 - db::query()
[Debug]:	2024-06-17 23:10:41 - db::buildQuery()
[Debug]:	2024-06-17 23:10:41 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:10:41 - db::query()
[Debug]:	2024-06-17 23:10:41 - db::buildQuery()
[Debug]:	2024-06-17 23:10:41 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:10:41 - db::query()
[Debug]:	2024-06-17 23:10:41 - db::buildQuery()
[Debug]:	2024-06-17 23:10:41 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:10:41 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:10:41 - db::query()
[Debug]:	2024-06-17 23:10:41 - db::buildQuery()
[Debug]:	2024-06-17 23:10:41 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:10:43 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:43 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:10:43 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:10:43 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:43 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:43 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:43 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:43 - db::query()
[Debug]:	2024-06-17 23:10:43 - db::buildQuery()
[Debug]:	2024-06-17 23:10:43 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:10:44 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:44 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:10:44 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:10:44 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:44 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:44 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:44 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:44 - db::query()
[Debug]:	2024-06-17 23:10:44 - db::buildQuery()
[Debug]:	2024-06-17 23:10:44 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:10:44 - db::query()
[Debug]:	2024-06-17 23:10:44 - db::buildQuery()
[Debug]:	2024-06-17 23:10:44 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:10:44 - db::query()
[Debug]:	2024-06-17 23:10:44 - db::buildQuery()
[Debug]:	2024-06-17 23:10:44 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:10:44 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:10:44 - db::query()
[Debug]:	2024-06-17 23:10:44 - db::buildQuery()
[Debug]:	2024-06-17 23:10:44 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:10:46 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:46 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:10:46 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:10:46 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:46 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:46 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:46 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:46 - db::query()
[Debug]:	2024-06-17 23:10:46 - db::buildQuery()
[Debug]:	2024-06-17 23:10:46 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:10:47 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:47 - AJAX GET /admin/trades?back=dashboard
[Request]:	2024-06-17 23:10:47 - File: C:\laragon\www\myhub\pages\admin\trades\trades.php
[Request]:	2024-06-17 23:10:47 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:47 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:47 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:47 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:47 - db::query()
[Debug]:	2024-06-17 23:10:47 - db::buildQuery()
[Debug]:	2024-06-17 23:10:47 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:10:47 - db::query()
[Debug]:	2024-06-17 23:10:47 - db::buildQuery()
[Debug]:	2024-06-17 23:10:47 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:10:47 - db::query()
[Debug]:	2024-06-17 23:10:47 - db::buildQuery()
[Debug]:	2024-06-17 23:10:47 - db::query(), Array
(
    [0] => SELECT * FROM view_trades WHERE date >= ? ORDER BY date DESC
    [1] => ["2024-06-17"]
)



2024-06-17 23:10:51 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:51 - AJAX GET /admin/trades?view=edit&id=new
[Request]:	2024-06-17 23:10:51 - File: C:\laragon\www\myhub\pages\admin\trades\trades.php
[Request]:	2024-06-17 23:10:51 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:51 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:51 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:51 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:51 - db::query()
[Debug]:	2024-06-17 23:10:51 - db::buildQuery()
[Debug]:	2024-06-17 23:10:51 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[App Security]:	2024-06-17 23:10:51 - Allowed Role/Group: "super"
[Security]:	2024-06-17 23:10:51 - Security::denyIfRoleNot(), allowed roles: ["super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:51 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:51 - db::query()
[Debug]:	2024-06-17 23:10:51 - db::buildQuery()
[Debug]:	2024-06-17 23:10:51 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:10:51 - getTradeById(), id = new
[Debug]:	2024-06-17 23:10:51 - db::query()
[Debug]:	2024-06-17 23:10:51 - db::buildQuery()
[Debug]:	2024-06-17 23:10:51 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)

[Debug]:	2024-06-17 23:10:51 - attrsStr = 
[Debug]:	2024-06-17 23:10:51 - inclFileRef = _partials/edit.css
[Debug]:	2024-06-17 23:10:51 - props = Array
(
)

[Debug]:	2024-06-17 23:10:51 - fileToInclude = C:\laragon\www\myhub\pages\admin\trades\_partials/edit.css
[Debug]:	2024-06-17 23:10:51 - attrsStr = 
[Debug]:	2024-06-17 23:10:51 - inclFileRef = _partials/edit.js
[Debug]:	2024-06-17 23:10:51 - props = Array
(
)

[Debug]:	2024-06-17 23:10:51 - fileToInclude = C:\laragon\www\myhub\pages\admin\trades\_partials/edit.js


2024-06-17 23:10:57 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:57 - AJAX GET /admin/trades?back=dashboard
[Request]:	2024-06-17 23:10:57 - File: C:\laragon\www\myhub\pages\admin\trades\trades.php
[Request]:	2024-06-17 23:10:57 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:57 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:57 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:57 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:57 - db::query()
[Debug]:	2024-06-17 23:10:57 - db::buildQuery()
[Debug]:	2024-06-17 23:10:57 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:10:57 - db::query()
[Debug]:	2024-06-17 23:10:57 - db::buildQuery()
[Debug]:	2024-06-17 23:10:57 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:10:57 - db::query()
[Debug]:	2024-06-17 23:10:57 - db::buildQuery()
[Debug]:	2024-06-17 23:10:57 - db::query(), Array
(
    [0] => SELECT * FROM view_trades WHERE date >= ? ORDER BY date DESC
    [1] => ["2024-06-17"]
)



2024-06-17 23:10:58 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:10:58 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:10:58 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:10:58 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:10:58 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:10:58 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:10:58 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:10:58 - db::query()
[Debug]:	2024-06-17 23:10:58 - db::buildQuery()
[Debug]:	2024-06-17 23:10:58 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:11:00 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:11:00 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:11:00 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:11:00 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:11:00 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:11:00 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:11:00 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:11:00 - db::query()
[Debug]:	2024-06-17 23:11:00 - db::buildQuery()
[Debug]:	2024-06-17 23:11:00 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:11:00 - db::query()
[Debug]:	2024-06-17 23:11:00 - db::buildQuery()
[Debug]:	2024-06-17 23:11:00 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:11:00 - db::query()
[Debug]:	2024-06-17 23:11:00 - db::buildQuery()
[Debug]:	2024-06-17 23:11:00 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:11:00 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:11:00 - db::query()
[Debug]:	2024-06-17 23:11:00 - db::buildQuery()
[Debug]:	2024-06-17 23:11:00 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:11:01 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:11:01 - AJAX GET /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:11:01 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:11:01 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:11:01 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:11:01 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:11:01 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:11:01 - getClientById(), id = new
[Debug]:	2024-06-17 23:11:01 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 2059951f
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:11:01 - Editing client: stdClass Object
(
    [id] => 
    [client_id] => 2059951f
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND id != ? ORDER BY name asc
    [1] => [null,"new"]
)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM banks ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:11:01 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)

[Debug]:	2024-06-17 23:11:01 - db::query()
[Debug]:	2024-06-17 23:11:01 - db::buildQuery()
[Debug]:	2024-06-17 23:11:01 - db::query(), Array
(
    [0] => SELECT * FROM ch_ncrs ORDER BY name
    [1] => []
)



2024-06-17 23:11:24 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:11:24 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:11:24 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:11:24 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:11:24 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:11:24 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:11:24 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:11:24 - db::query()
[Debug]:	2024-06-17 23:11:24 - db::buildQuery()
[Debug]:	2024-06-17 23:11:24 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:11:24 - IS POST Request - POST: Array
(
    [action] => addOption
    [fieldName] => suburb
    [optName] => TEST
)

[Debug]:	2024-06-17 23:11:24 - IS POST Request - FILES: Array
(
)

[Debug]:	2024-06-17 23:11:24 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:11:24 - IS POST Request - Action: addOption
[Debug]:	2024-06-17 23:11:24 - db::query()
[Debug]:	2024-06-17 23:11:24 - db::buildQuery()
[Debug]:	2024-06-17 23:11:24 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs WHERE name = ? LIMIT 1
    [1] => ["TEST"]
)

[Debug]:	2024-06-17 23:11:24 - db::insert(), data: Array
(
    [name] => TEST
)

[Debug]:	2024-06-17 23:11:24 - db::autoStamp(), created_at: 2024-06-17 23:11:24
[Debug]:	2024-06-17 23:11:24 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:11:24 - db::execute()
[Debug]:	2024-06-17 23:11:24 - db::execute(), Array
(
    [0] => INSERT INTO `loc_suburbs` ( name, created_at, created_by ) VALUES ( ?, ?, ? )
    [1] => ["TEST","2024-06-17 23:11:24","_sysadm_"]
)

[Debug]:	2024-06-17 23:11:24 - Add Option Result: Array
(
    [status] => inserted
    [id] => 1
    [affected] => 1
)



2024-06-17 23:11:28 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:11:28 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:11:28 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:11:28 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:11:28 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:11:28 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:11:28 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:11:28 - db::query()
[Debug]:	2024-06-17 23:11:28 - db::buildQuery()
[Debug]:	2024-06-17 23:11:28 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:11:28 - IS POST Request - POST: Array
(
    [action] => addOption
    [fieldName] => city
    [optName] => TEST
)

[Debug]:	2024-06-17 23:11:28 - IS POST Request - FILES: Array
(
)

[Debug]:	2024-06-17 23:11:28 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:11:28 - IS POST Request - Action: addOption
[Debug]:	2024-06-17 23:11:28 - db::query()
[Debug]:	2024-06-17 23:11:28 - db::buildQuery()
[Debug]:	2024-06-17 23:11:28 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities WHERE name = ? LIMIT 1
    [1] => ["TEST"]
)

[Debug]:	2024-06-17 23:11:28 - db::insert(), data: Array
(
    [name] => TEST
)

[Debug]:	2024-06-17 23:11:28 - db::autoStamp(), created_at: 2024-06-17 23:11:28
[Debug]:	2024-06-17 23:11:28 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:11:28 - db::execute()
[Debug]:	2024-06-17 23:11:28 - db::execute(), Array
(
    [0] => INSERT INTO `loc_cities` ( name, created_at, created_by ) VALUES ( ?, ?, ? )
    [1] => ["TEST","2024-06-17 23:11:28","_sysadm_"]
)

[Debug]:	2024-06-17 23:11:28 - Add Option Result: Array
(
    [status] => inserted
    [id] => 1
    [affected] => 1
)



2024-06-17 23:11:33 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:11:33 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:11:33 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:11:33 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:11:33 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:11:33 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:11:33 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:11:33 - db::query()
[Debug]:	2024-06-17 23:11:33 - db::buildQuery()
[Debug]:	2024-06-17 23:11:33 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:11:33 - IS POST Request - POST: Array
(
    [action] => addOption
    [fieldName] => province
    [optName] => TEST
)

[Debug]:	2024-06-17 23:11:33 - IS POST Request - FILES: Array
(
)

[Debug]:	2024-06-17 23:11:33 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:11:33 - IS POST Request - Action: addOption
[Debug]:	2024-06-17 23:11:33 - db::query()
[Debug]:	2024-06-17 23:11:33 - db::buildQuery()
[Debug]:	2024-06-17 23:11:33 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces WHERE name = ? LIMIT 1
    [1] => ["TEST"]
)

[Debug]:	2024-06-17 23:11:33 - db::insert(), data: Array
(
    [name] => TEST
)

[Debug]:	2024-06-17 23:11:33 - db::autoStamp(), created_at: 2024-06-17 23:11:33
[Debug]:	2024-06-17 23:11:33 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:11:33 - db::execute()
[Debug]:	2024-06-17 23:11:33 - db::execute(), Array
(
    [0] => INSERT INTO `loc_provinces` ( name, created_at, created_by ) VALUES ( ?, ?, ? )
    [1] => ["TEST","2024-06-17 23:11:33","_sysadm_"]
)

[Debug]:	2024-06-17 23:11:33 - Add Option Result: Array
(
    [status] => inserted
    [id] => 1
    [affected] => 1
)



2024-06-17 23:11:37 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:11:37 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:11:37 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:11:37 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:11:37 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:11:37 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:11:37 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:11:37 - db::query()
[Debug]:	2024-06-17 23:11:37 - db::buildQuery()
[Debug]:	2024-06-17 23:11:37 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:11:37 - IS POST Request - POST: Array
(
    [action] => addOption
    [fieldName] => country
    [optName] => TEST
)

[Debug]:	2024-06-17 23:11:37 - IS POST Request - FILES: Array
(
)

[Debug]:	2024-06-17 23:11:37 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:11:37 - IS POST Request - Action: addOption
[Debug]:	2024-06-17 23:11:37 - db::query()
[Debug]:	2024-06-17 23:11:37 - db::buildQuery()
[Debug]:	2024-06-17 23:11:37 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries WHERE name = ? LIMIT 1
    [1] => ["TEST"]
)

[Debug]:	2024-06-17 23:11:37 - db::insert(), data: Array
(
    [name] => TEST
)

[Debug]:	2024-06-17 23:11:37 - db::autoStamp(), created_at: 2024-06-17 23:11:37
[Debug]:	2024-06-17 23:11:37 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:11:37 - db::execute()
[Debug]:	2024-06-17 23:11:37 - db::execute(), Array
(
    [0] => INSERT INTO `loc_countries` ( name, created_at, created_by ) VALUES ( ?, ?, ? )
    [1] => ["TEST","2024-06-17 23:11:37","_sysadm_"]
)

[Debug]:	2024-06-17 23:11:37 - Add Option Result: Array
(
    [status] => inserted
    [id] => 1
    [affected] => 1
)



2024-06-17 23:11:39 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:11:39 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:11:39 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:11:39 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:11:39 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:11:39 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:11:39 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:11:39 - db::query()
[Debug]:	2024-06-17 23:11:39 - db::buildQuery()
[Debug]:	2024-06-17 23:11:39 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:11:39 - IS POST Request - POST: Array
(
    [id] => 
    [client_id] => Est sed incididunt v
    [status] => Active
    [first_name] => Drake
    [middle_name] => Simone Mills
    [last_name] => Boyer
    [name] => Byron
    [personal_email] => fitobamalo@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 27812121212
    [id_number] => 399
    [accountant] => Personal
    [tax_number] => 722
    [bank] => TEST
    [cif_number] => 727
    [bp_number] => 36
    [capitec_id] => Quo quas maxime qui 
    [mercantile_name] => Justine Best
    [address] => Aliqua Ea possimus
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Ab d
    [trading_capital] => R 
    [sda_mandate] => R 211 994
    [fia_mandate] => R 091 989
    [next_years_sda_mandate] => R 1 977
    [next_years_fia_mandate] => R 2 001
    [spare_1] => 
    [spare_2] => 
    [notes] => Dolore eligendi cumq
    [action] => saveClient
)

[Debug]:	2024-06-17 23:11:39 - IS POST Request - FILES: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)

[Debug]:	2024-06-17 23:11:39 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:11:39 - IS POST Request - Action: saveClient
[Debug]:	2024-06-17 23:11:39 - db::query()
[Debug]:	2024-06-17 23:11:39 - db::buildQuery()
[Debug]:	2024-06-17 23:11:39 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id_number = ? LIMIT 1
    [1] => ["399"]
)

[Debug]:	2024-06-17 23:11:39 - db::query()
[Debug]:	2024-06-17 23:11:39 - db::buildQuery()
[Debug]:	2024-06-17 23:11:39 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE client_id = ? LIMIT 1
    [1] => ["Est sed incididunt v"]
)

[Debug]:	2024-06-17 23:11:39 - getClientById(), id = new
[Debug]:	2024-06-17 23:11:39 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 22bbaec7
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:11:39 - clientBefore = stdClass Object
(
    [id] => 
    [client_id] => 22bbaec7
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:11:39 - db::save() Array
(
    [autoStamp] => 1
    [user] => _sysadm_
)

[Debug]:	2024-06-17 23:11:39 - db::insert(), data: Array
(
    [id] => 
    [client_id] => Est sed incididunt v
    [status] => Active
    [first_name] => Drake
    [middle_name] => Simone Mills
    [last_name] => Boyer
    [name] => Byron
    [personal_email] => fitobamalo@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 27812121212
    [id_number] => 399
    [accountant] => Personal
    [tax_number] => 722
    [bank] => TEST
    [cif_number] => 727
    [bp_number] => 36
    [capitec_id] => Quo quas maxime qui 
    [mercantile_name] => Justine Best
    [address] => Aliqua Ea possimus
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Ab d
    [trading_capital] => R 
    [sda_mandate] => R 211 994
    [fia_mandate] => R 091 989
    [next_years_sda_mandate] => R 1 977
    [next_years_fia_mandate] => R 2 001
    [spare_1] => 
    [spare_2] => 
    [notes] => Dolore eligendi cumq
    [action] => saveClient
    [sync_at] => 2024-06-17 23:11:39
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:11:39 - db::autoStamp(), created_at: 2024-06-17 23:11:39
[Debug]:	2024-06-17 23:11:39 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:11:39 - db::execute()
[Debug]:	2024-06-17 23:11:39 - db::execute(), Array
(
    [0] => INSERT INTO `clients` ( client_id, status, first_name, middle_name, last_name, name, personal_email, spouse_id, ncr, referrer_id, phone_number, id_number, accountant, tax_number, bank, cif_number, bp_number, capitec_id, mercantile_name, address, suburb, city, province, country, postal_code, trading_capital, sda_mandate, fia_mandate, next_years_sda_mandate, next_years_fia_mandate, spare_1, spare_2, notes, sync_at, sync_by, sync_from, sync_type, created_at, created_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
    [1] => ["Est sed incididunt v","Active","Drake","Simone Mills","Boyer","Byron","fitobamalo@mailinator.com",null,null,null,"27812121212","399","Personal","722","TEST","727","36","Quo quas maxime qui ","Justine Best","Aliqua Ea possimus","TEST","TEST","TEST","TEST","Ab d",0,211994,91989,1977,2001,null,null,"Dolore eligendi cumq","2024-06-17 23:11:39","_sysadm_","local","new","2024-06-17 23:11:39","_sysadm_"]
)

[Debug]:	2024-06-17 23:11:39 - Save client result: Array
(
    [status] => inserted
    [id] => 1
    [affected] => 1
)

[Debug]:	2024-06-17 23:11:39 - db::query()
[Debug]:	2024-06-17 23:11:39 - db::buildQuery()
[Debug]:	2024-06-17 23:11:39 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id = ? LIMIT 1
    [1] => ["1"]
)

[Debug]:	2024-06-17 23:11:39 - Saved client = stdClass Object
(
    [id] => 1
    [client_id] => Est sed incididunt v
    [spouse_id] => 
    [name] => Byron
    [first_name] => Drake
    [middle_name] => Simone Mills
    [last_name] => Boyer
    [personal_email] => fitobamalo@mailinator.com
    [ncr] => 
    [bank] => TEST
    [accountant] => Personal
    [status] => Active
    [trader_id] => 
    [trading_capital] => 0
    [sda_mandate] => 211994
    [fia_mandate] => 91989
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => Aliqua Ea possimus
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Ab d
    [ovex_email] => 
    [mercantile_name] => Justine Best
    [bp_number] => 36
    [cif_number] => 727
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => Quo quas maxime qui 
    [id_number] => 399
    [tax_number] => 722
    [phone_number] => 27812121212
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 1977
    [next_years_fia_mandate] => 2001
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 2024-06-17 23:11:39
    [created_by] => _sysadm_
    [settings] => 
    [notes] => Dolore eligendi cumq
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 2024-06-17 23:11:39
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:11:39 - ClientState::__construct()

[Debug]:	2024-06-17 23:11:39 - ClientState::updateStateFor(), options = Array
(
)

[Debug]:	2024-06-17 23:11:39 - ClientStatement::generate(), options = Array
(
    [year] => 2024
)


[Debug]:	2024-06-17 23:11:39 - getClientTrades(), type = All
[Debug]:	2024-06-17 23:11:39 - Year: 2024
[Debug]:	2024-06-17 23:11:39 - From Date: 2024-01-01
[Debug]:	2024-06-17 23:11:39 - To Date: 2024-12-31
[Debug]:	2024-06-17 23:11:39 - db::query()
[Debug]:	2024-06-17 23:11:39 - db::query(), Array
(
    [0] => SELECT * FROM trades WHERE deleted_at IS NULL AND client_id = ? AND `date` BETWEEN ? AND ? ORDER BY `date`, created_at
    [1] => ["Est sed incididunt v","2024-01-01","2024-12-31"]
)


[Debug]:	2024-06-17 23:11:39 - Client::getAnnualInfo(), year = 2024
[Debug]:	2024-06-17 23:11:39 - db::query()
[Debug]:	2024-06-17 23:11:39 - db::buildQuery()
[Debug]:	2024-06-17 23:11:39 - db::query(), Array
(
    [0] => SELECT * FROM clients_annual_info WHERE client_id = ? AND year = ? LIMIT 1
    [1] => [1,"2024"]
)

[Debug]:	2024-06-17 23:11:39 - ClientStatement::generate(), annualInfo = stdClass Object
(
    [year] => 2024
    [client_id] => 1
    [trading_capital] => 0
    [fia_mandate] => 91989
    [sda_mandate] => 211994
)

[Debug]:	2024-06-17 23:11:39 - Fee::getChFee(), date = 2024-01-01
[Debug]:	2024-06-17 23:11:39 - db::query()
[Debug]:	2024-06-17 23:11:39 - db::buildQuery()
[Debug]:	2024-06-17 23:11:39 - db::query(), Array
(
    [0] => SELECT * FROM fees WHERE fee_type_id = ? AND start_date <= ? AND (end_date IS ? OR end_date >= ?) LIMIT 1
    [1] => [1,"2024-01-01",null,"2024-01-01"]
)

[Error]:	2024-06-17 23:11:39 - Fee::getChFee(), CH Fee not found for date 2024-01-01
[Debug]:	2024-06-17 23:11:39 - abort_uploads(), caller: exception
[Debug]:	2024-06-17 23:11:39 - abort_uploads(), files: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)



2024-06-17 23:11:52 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:11:52 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:11:52 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:11:52 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:11:52 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:11:52 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:11:52 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:11:52 - db::query()
[Debug]:	2024-06-17 23:11:52 - db::buildQuery()
[Debug]:	2024-06-17 23:11:52 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:11:52 - IS POST Request - POST: Array
(
    [id] => 
    [client_id] => Est sed incididunt v
    [status] => Active
    [first_name] => Drake
    [middle_name] => Simone Mills
    [last_name] => Boyer
    [name] => Byron
    [personal_email] => fitobamalo@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 27812121212
    [id_number] => 399
    [accountant] => Personal
    [tax_number] => 722
    [bank] => TEST
    [cif_number] => 727
    [bp_number] => 36
    [capitec_id] => Quo quas maxime qui 
    [mercantile_name] => Justine Best
    [address] => Aliqua Ea possimus
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Ab d
    [trading_capital] => R 
    [sda_mandate] => R 211 994
    [fia_mandate] => R 091 989
    [next_years_sda_mandate] => R 1 977
    [next_years_fia_mandate] => R 2 001
    [spare_1] => 
    [spare_2] => 
    [notes] => Dolore eligendi cumq
    [action] => saveClient
)

[Debug]:	2024-06-17 23:11:52 - IS POST Request - FILES: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)

[Debug]:	2024-06-17 23:11:52 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:11:52 - IS POST Request - Action: saveClient
[Debug]:	2024-06-17 23:11:52 - db::query()
[Debug]:	2024-06-17 23:11:52 - db::buildQuery()
[Debug]:	2024-06-17 23:11:52 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id_number = ? LIMIT 1
    [1] => ["399"]
)

[Debug]:	2024-06-17 23:11:52 - db::query()
[Debug]:	2024-06-17 23:11:52 - db::buildQuery()
[Debug]:	2024-06-17 23:11:52 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE client_id = ? LIMIT 1
    [1] => ["Est sed incididunt v"]
)

[Debug]:	2024-06-17 23:11:52 - getClientById(), id = new
[Debug]:	2024-06-17 23:11:52 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 23815d86
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:11:52 - clientBefore = stdClass Object
(
    [id] => 
    [client_id] => 23815d86
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:11:52 - db::save() Array
(
    [autoStamp] => 1
    [user] => _sysadm_
)

[Debug]:	2024-06-17 23:11:52 - db::insert(), data: Array
(
    [id] => 
    [client_id] => Est sed incididunt v
    [status] => Active
    [first_name] => Drake
    [middle_name] => Simone Mills
    [last_name] => Boyer
    [name] => Byron
    [personal_email] => fitobamalo@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 27812121212
    [id_number] => 399
    [accountant] => Personal
    [tax_number] => 722
    [bank] => TEST
    [cif_number] => 727
    [bp_number] => 36
    [capitec_id] => Quo quas maxime qui 
    [mercantile_name] => Justine Best
    [address] => Aliqua Ea possimus
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Ab d
    [trading_capital] => R 
    [sda_mandate] => R 211 994
    [fia_mandate] => R 091 989
    [next_years_sda_mandate] => R 1 977
    [next_years_fia_mandate] => R 2 001
    [spare_1] => 
    [spare_2] => 
    [notes] => Dolore eligendi cumq
    [action] => saveClient
    [sync_at] => 2024-06-17 23:11:52
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:11:52 - db::autoStamp(), created_at: 2024-06-17 23:11:52
[Debug]:	2024-06-17 23:11:52 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:11:52 - db::execute()
[Debug]:	2024-06-17 23:11:52 - db::execute(), Array
(
    [0] => INSERT INTO `clients` ( client_id, status, first_name, middle_name, last_name, name, personal_email, spouse_id, ncr, referrer_id, phone_number, id_number, accountant, tax_number, bank, cif_number, bp_number, capitec_id, mercantile_name, address, suburb, city, province, country, postal_code, trading_capital, sda_mandate, fia_mandate, next_years_sda_mandate, next_years_fia_mandate, spare_1, spare_2, notes, sync_at, sync_by, sync_from, sync_type, created_at, created_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
    [1] => ["Est sed incididunt v","Active","Drake","Simone Mills","Boyer","Byron","fitobamalo@mailinator.com",null,null,null,"27812121212","399","Personal","722","TEST","727","36","Quo quas maxime qui ","Justine Best","Aliqua Ea possimus","TEST","TEST","TEST","TEST","Ab d",0,211994,91989,1977,2001,null,null,"Dolore eligendi cumq","2024-06-17 23:11:52","_sysadm_","local","new","2024-06-17 23:11:52","_sysadm_"]
)

[Debug]:	2024-06-17 23:11:52 - Save client result: Array
(
    [status] => inserted
    [id] => 2
    [affected] => 1
)

[Debug]:	2024-06-17 23:11:52 - db::query()
[Debug]:	2024-06-17 23:11:52 - db::buildQuery()
[Debug]:	2024-06-17 23:11:52 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id = ? LIMIT 1
    [1] => ["2"]
)

[Debug]:	2024-06-17 23:11:52 - Saved client = stdClass Object
(
    [id] => 2
    [client_id] => Est sed incididunt v
    [spouse_id] => 
    [name] => Byron
    [first_name] => Drake
    [middle_name] => Simone Mills
    [last_name] => Boyer
    [personal_email] => fitobamalo@mailinator.com
    [ncr] => 
    [bank] => TEST
    [accountant] => Personal
    [status] => Active
    [trader_id] => 
    [trading_capital] => 0
    [sda_mandate] => 211994
    [fia_mandate] => 91989
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => Aliqua Ea possimus
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Ab d
    [ovex_email] => 
    [mercantile_name] => Justine Best
    [bp_number] => 36
    [cif_number] => 727
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => Quo quas maxime qui 
    [id_number] => 399
    [tax_number] => 722
    [phone_number] => 27812121212
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 1977
    [next_years_fia_mandate] => 2001
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 2024-06-17 23:11:52
    [created_by] => _sysadm_
    [settings] => 
    [notes] => Dolore eligendi cumq
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 2024-06-17 23:11:52
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:11:52 - ClientState::__construct()

[Debug]:	2024-06-17 23:11:52 - ClientState::updateStateFor(), options = Array
(
)

[Debug]:	2024-06-17 23:11:52 - ClientStatement::generate(), options = Array
(
    [year] => 2024
)


[Debug]:	2024-06-17 23:11:52 - getClientTrades(), type = All
[Debug]:	2024-06-17 23:11:52 - Year: 2024
[Debug]:	2024-06-17 23:11:52 - From Date: 2024-01-01
[Debug]:	2024-06-17 23:11:52 - To Date: 2024-12-31
[Debug]:	2024-06-17 23:11:52 - db::query()
[Debug]:	2024-06-17 23:11:52 - db::query(), Array
(
    [0] => SELECT * FROM trades WHERE deleted_at IS NULL AND client_id = ? AND `date` BETWEEN ? AND ? ORDER BY `date`, created_at
    [1] => ["Est sed incididunt v","2024-01-01","2024-12-31"]
)


[Debug]:	2024-06-17 23:11:52 - Client::getAnnualInfo(), year = 2024
[Debug]:	2024-06-17 23:11:52 - db::query()
[Debug]:	2024-06-17 23:11:52 - db::buildQuery()
[Debug]:	2024-06-17 23:11:52 - db::query(), Array
(
    [0] => SELECT * FROM clients_annual_info WHERE client_id = ? AND year = ? LIMIT 1
    [1] => [2,"2024"]
)

[Debug]:	2024-06-17 23:11:52 - ClientStatement::generate(), annualInfo = stdClass Object
(
    [year] => 2024
    [client_id] => 2
    [trading_capital] => 0
    [fia_mandate] => 91989
    [sda_mandate] => 211994
)

[Debug]:	2024-06-17 23:11:52 - Fee::getChFee(), date = 2024-01-01
[Debug]:	2024-06-17 23:11:52 - db::query()
[Debug]:	2024-06-17 23:11:52 - db::buildQuery()
[Debug]:	2024-06-17 23:11:52 - db::query(), Array
(
    [0] => SELECT * FROM fees WHERE fee_type_id = ? AND start_date <= ? AND (end_date IS ? OR end_date >= ?) LIMIT 1
    [1] => [1,"2024-01-01",null,"2024-01-01"]
)

[Error]:	2024-06-17 23:11:52 - Fee::getChFee(), CH Fee not found for date 2024-01-01
[Debug]:	2024-06-17 23:11:52 - abort_uploads(), caller: exception
[Debug]:	2024-06-17 23:11:52 - abort_uploads(), files: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)



2024-06-17 23:12:08 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:12:08 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:12:08 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:12:08 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:12:08 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:12:08 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:12:08 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:12:08 - db::query()
[Debug]:	2024-06-17 23:12:08 - db::buildQuery()
[Debug]:	2024-06-17 23:12:08 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:12:08 - db::query()
[Debug]:	2024-06-17 23:12:08 - db::buildQuery()
[Debug]:	2024-06-17 23:12:08 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:12:08 - db::query()
[Debug]:	2024-06-17 23:12:08 - db::buildQuery()
[Debug]:	2024-06-17 23:12:08 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:12:08 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:12:08 - db::query()
[Debug]:	2024-06-17 23:12:08 - db::buildQuery()
[Debug]:	2024-06-17 23:12:08 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:12:09 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:12:09 - AJAX GET /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:12:09 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:12:09 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:12:09 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:12:09 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:12:09 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:12:09 - getClientById(), id = new
[Debug]:	2024-06-17 23:12:09 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 2499dada
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:12:09 - Editing client: stdClass Object
(
    [id] => 
    [client_id] => 2499dada
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND id != ? ORDER BY name asc
    [1] => [null,"new"]
)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM banks ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:12:09 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)

[Debug]:	2024-06-17 23:12:09 - db::query()
[Debug]:	2024-06-17 23:12:09 - db::buildQuery()
[Debug]:	2024-06-17 23:12:09 - db::query(), Array
(
    [0] => SELECT * FROM ch_ncrs ORDER BY name
    [1] => []
)



2024-06-17 23:12:36 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:12:36 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:12:36 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:12:36 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:12:36 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:12:36 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:12:36 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:12:36 - db::query()
[Debug]:	2024-06-17 23:12:36 - db::buildQuery()
[Debug]:	2024-06-17 23:12:36 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:12:36 - IS POST Request - POST: Array
(
    [id] => 
    [client_id] => 2499dada
    [status] => Active
    [first_name] => Caryn
    [middle_name] => Adara Rush
    [last_name] => Ortiz
    [name] => Trevor
    [personal_email] => legegymu@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 2278972122
    [id_number] => 728
    [accountant] => CH System
    [tax_number] => 964
    [bank] => TEST
    [cif_number] => 590
    [bp_number] => 900
    [capitec_id] => Ad doloribus id numq
    [mercantile_name] => Ayanna Hebert
    [address] => Consequatur laudant
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Dolo
    [trading_capital] => R 
    [sda_mandate] => R 261 977
    [fia_mandate] => R 111 976
    [next_years_sda_mandate] => R 1 983
    [next_years_fia_mandate] => R 1 993
    [spare_1] => 
    [spare_2] => 
    [notes] => Sint ducimus conseq
    [action] => saveClient
)

[Debug]:	2024-06-17 23:12:36 - IS POST Request - FILES: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)

[Debug]:	2024-06-17 23:12:36 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:12:36 - IS POST Request - Action: saveClient
[Debug]:	2024-06-17 23:12:36 - db::query()
[Debug]:	2024-06-17 23:12:36 - db::buildQuery()
[Debug]:	2024-06-17 23:12:36 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id_number = ? LIMIT 1
    [1] => ["728"]
)

[Debug]:	2024-06-17 23:12:36 - db::query()
[Debug]:	2024-06-17 23:12:36 - db::buildQuery()
[Debug]:	2024-06-17 23:12:36 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE client_id = ? LIMIT 1
    [1] => ["2499dada"]
)

[Debug]:	2024-06-17 23:12:36 - getClientById(), id = new
[Debug]:	2024-06-17 23:12:36 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 264c8d45
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:12:36 - clientBefore = stdClass Object
(
    [id] => 
    [client_id] => 264c8d45
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:12:36 - db::save() Array
(
    [autoStamp] => 1
    [user] => _sysadm_
)

[Debug]:	2024-06-17 23:12:36 - db::insert(), data: Array
(
    [id] => 
    [client_id] => 2499dada
    [status] => Active
    [first_name] => Caryn
    [middle_name] => Adara Rush
    [last_name] => Ortiz
    [name] => Trevor
    [personal_email] => legegymu@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 2278972122
    [id_number] => 728
    [accountant] => CH System
    [tax_number] => 964
    [bank] => TEST
    [cif_number] => 590
    [bp_number] => 900
    [capitec_id] => Ad doloribus id numq
    [mercantile_name] => Ayanna Hebert
    [address] => Consequatur laudant
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Dolo
    [trading_capital] => R 
    [sda_mandate] => R 261 977
    [fia_mandate] => R 111 976
    [next_years_sda_mandate] => R 1 983
    [next_years_fia_mandate] => R 1 993
    [spare_1] => 
    [spare_2] => 
    [notes] => Sint ducimus conseq
    [action] => saveClient
    [sync_at] => 2024-06-17 23:12:36
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:12:36 - db::autoStamp(), created_at: 2024-06-17 23:12:36
[Debug]:	2024-06-17 23:12:36 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:12:36 - db::execute()
[Debug]:	2024-06-17 23:12:36 - db::execute(), Array
(
    [0] => INSERT INTO `clients` ( client_id, status, first_name, middle_name, last_name, name, personal_email, spouse_id, ncr, referrer_id, phone_number, id_number, accountant, tax_number, bank, cif_number, bp_number, capitec_id, mercantile_name, address, suburb, city, province, country, postal_code, trading_capital, sda_mandate, fia_mandate, next_years_sda_mandate, next_years_fia_mandate, spare_1, spare_2, notes, sync_at, sync_by, sync_from, sync_type, created_at, created_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
    [1] => ["2499dada","Active","Caryn","Adara Rush","Ortiz","Trevor","legegymu@mailinator.com",null,null,null,"2278972122","728","CH System","964","TEST","590","900","Ad doloribus id numq","Ayanna Hebert","Consequatur laudant","TEST","TEST","TEST","TEST","Dolo",0,261977,111976,1983,1993,null,null,"Sint ducimus conseq","2024-06-17 23:12:36","_sysadm_","local","new","2024-06-17 23:12:36","_sysadm_"]
)

[Debug]:	2024-06-17 23:12:36 - Save client result: Array
(
    [status] => inserted
    [id] => 3
    [affected] => 1
)

[Debug]:	2024-06-17 23:12:36 - db::query()
[Debug]:	2024-06-17 23:12:36 - db::buildQuery()
[Debug]:	2024-06-17 23:12:36 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id = ? LIMIT 1
    [1] => ["3"]
)

[Debug]:	2024-06-17 23:12:36 - Saved client = stdClass Object
(
    [id] => 3
    [client_id] => 2499dada
    [spouse_id] => 
    [name] => Trevor
    [first_name] => Caryn
    [middle_name] => Adara Rush
    [last_name] => Ortiz
    [personal_email] => legegymu@mailinator.com
    [ncr] => 
    [bank] => TEST
    [accountant] => CH System
    [status] => Active
    [trader_id] => 
    [trading_capital] => 0
    [sda_mandate] => 261977
    [fia_mandate] => 111976
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => Consequatur laudant
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Dolo
    [ovex_email] => 
    [mercantile_name] => Ayanna Hebert
    [bp_number] => 900
    [cif_number] => 590
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => Ad doloribus id numq
    [id_number] => 728
    [tax_number] => 964
    [phone_number] => 2278972122
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 1983
    [next_years_fia_mandate] => 1993
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 2024-06-17 23:12:36
    [created_by] => _sysadm_
    [settings] => 
    [notes] => Sint ducimus conseq
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 2024-06-17 23:12:36
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:12:36 - ClientState::__construct()

[Debug]:	2024-06-17 23:12:36 - ClientState::updateStateFor(), options = Array
(
)

[Debug]:	2024-06-17 23:12:36 - ClientStatement::generate(), options = Array
(
    [year] => 2024
)


[Debug]:	2024-06-17 23:12:36 - getClientTrades(), type = All
[Debug]:	2024-06-17 23:12:36 - Year: 2024
[Debug]:	2024-06-17 23:12:36 - From Date: 2024-01-01
[Debug]:	2024-06-17 23:12:36 - To Date: 2024-12-31
[Debug]:	2024-06-17 23:12:36 - db::query()
[Debug]:	2024-06-17 23:12:36 - db::query(), Array
(
    [0] => SELECT * FROM trades WHERE deleted_at IS NULL AND client_id = ? AND `date` BETWEEN ? AND ? ORDER BY `date`, created_at
    [1] => ["2499dada","2024-01-01","2024-12-31"]
)


[Debug]:	2024-06-17 23:12:36 - Client::getAnnualInfo(), year = 2024
[Debug]:	2024-06-17 23:12:36 - db::query()
[Debug]:	2024-06-17 23:12:36 - db::buildQuery()
[Debug]:	2024-06-17 23:12:36 - db::query(), Array
(
    [0] => SELECT * FROM clients_annual_info WHERE client_id = ? AND year = ? LIMIT 1
    [1] => [3,"2024"]
)

[Debug]:	2024-06-17 23:12:36 - ClientStatement::generate(), annualInfo = stdClass Object
(
    [year] => 2024
    [client_id] => 3
    [trading_capital] => 0
    [fia_mandate] => 111976
    [sda_mandate] => 261977
)

[Debug]:	2024-06-17 23:12:36 - Fee::getChFee(), date = 2024-01-01
[Debug]:	2024-06-17 23:12:36 - db::query()
[Debug]:	2024-06-17 23:12:36 - db::buildQuery()
[Debug]:	2024-06-17 23:12:36 - db::query(), Array
(
    [0] => SELECT * FROM fees WHERE fee_type_id = ? AND start_date <= ? AND (end_date IS ? OR end_date >= ?) LIMIT 1
    [1] => [1,"2024-01-01",null,"2024-01-01"]
)

[Error]:	2024-06-17 23:12:36 - Fee::getChFee(), CH Fee not found for date 2024-01-01
[Debug]:	2024-06-17 23:12:36 - abort_uploads(), caller: exception
[Debug]:	2024-06-17 23:12:36 - abort_uploads(), files: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)



2024-06-17 23:12:47 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:12:47 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:12:47 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:12:47 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:12:47 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:12:47 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:12:47 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:12:47 - db::query()
[Debug]:	2024-06-17 23:12:47 - db::buildQuery()
[Debug]:	2024-06-17 23:12:47 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:12:47 - IS POST Request - POST: Array
(
    [id] => 
    [client_id] => 2499dada
    [status] => Active
    [first_name] => Caryn
    [middle_name] => Adara Rush
    [last_name] => Ortiz
    [name] => Trevor
    [personal_email] => legegymu@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 2278972122
    [id_number] => 728
    [accountant] => CH System
    [tax_number] => 964
    [bank] => TEST
    [cif_number] => 590
    [bp_number] => 900
    [capitec_id] => Ad doloribus id numq
    [mercantile_name] => Ayanna Hebert
    [address] => Consequatur laudant
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Dolo
    [trading_capital] => R 
    [sda_mandate] => R 261 977
    [fia_mandate] => R 111 976
    [next_years_sda_mandate] => R 1 983
    [next_years_fia_mandate] => R 1 993
    [spare_1] => 
    [spare_2] => 
    [notes] => Sint ducimus conseq
    [action] => saveClient
)

[Debug]:	2024-06-17 23:12:47 - IS POST Request - FILES: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)

[Debug]:	2024-06-17 23:12:47 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:12:47 - IS POST Request - Action: saveClient
[Debug]:	2024-06-17 23:12:47 - db::query()
[Debug]:	2024-06-17 23:12:47 - db::buildQuery()
[Debug]:	2024-06-17 23:12:47 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id_number = ? LIMIT 1
    [1] => ["728"]
)

[Debug]:	2024-06-17 23:12:47 - db::query()
[Debug]:	2024-06-17 23:12:47 - db::buildQuery()
[Debug]:	2024-06-17 23:12:47 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE client_id = ? LIMIT 1
    [1] => ["2499dada"]
)

[Debug]:	2024-06-17 23:12:47 - getClientById(), id = new
[Debug]:	2024-06-17 23:12:47 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 26f71c47
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:12:47 - clientBefore = stdClass Object
(
    [id] => 
    [client_id] => 26f71c47
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:12:47 - db::save() Array
(
    [autoStamp] => 1
    [user] => _sysadm_
)

[Debug]:	2024-06-17 23:12:47 - db::insert(), data: Array
(
    [id] => 
    [client_id] => 2499dada
    [status] => Active
    [first_name] => Caryn
    [middle_name] => Adara Rush
    [last_name] => Ortiz
    [name] => Trevor
    [personal_email] => legegymu@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 2278972122
    [id_number] => 728
    [accountant] => CH System
    [tax_number] => 964
    [bank] => TEST
    [cif_number] => 590
    [bp_number] => 900
    [capitec_id] => Ad doloribus id numq
    [mercantile_name] => Ayanna Hebert
    [address] => Consequatur laudant
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Dolo
    [trading_capital] => R 
    [sda_mandate] => R 261 977
    [fia_mandate] => R 111 976
    [next_years_sda_mandate] => R 1 983
    [next_years_fia_mandate] => R 1 993
    [spare_1] => 
    [spare_2] => 
    [notes] => Sint ducimus conseq
    [action] => saveClient
    [sync_at] => 2024-06-17 23:12:47
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:12:47 - db::autoStamp(), created_at: 2024-06-17 23:12:47
[Debug]:	2024-06-17 23:12:47 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:12:47 - db::execute()
[Debug]:	2024-06-17 23:12:47 - db::execute(), Array
(
    [0] => INSERT INTO `clients` ( client_id, status, first_name, middle_name, last_name, name, personal_email, spouse_id, ncr, referrer_id, phone_number, id_number, accountant, tax_number, bank, cif_number, bp_number, capitec_id, mercantile_name, address, suburb, city, province, country, postal_code, trading_capital, sda_mandate, fia_mandate, next_years_sda_mandate, next_years_fia_mandate, spare_1, spare_2, notes, sync_at, sync_by, sync_from, sync_type, created_at, created_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
    [1] => ["2499dada","Active","Caryn","Adara Rush","Ortiz","Trevor","legegymu@mailinator.com",null,null,null,"2278972122","728","CH System","964","TEST","590","900","Ad doloribus id numq","Ayanna Hebert","Consequatur laudant","TEST","TEST","TEST","TEST","Dolo",0,261977,111976,1983,1993,null,null,"Sint ducimus conseq","2024-06-17 23:12:47","_sysadm_","local","new","2024-06-17 23:12:47","_sysadm_"]
)

[Debug]:	2024-06-17 23:12:47 - Save client result: Array
(
    [status] => inserted
    [id] => 4
    [affected] => 1
)

[Debug]:	2024-06-17 23:12:47 - db::query()
[Debug]:	2024-06-17 23:12:47 - db::buildQuery()
[Debug]:	2024-06-17 23:12:47 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id = ? LIMIT 1
    [1] => ["4"]
)

[Debug]:	2024-06-17 23:12:47 - Saved client = stdClass Object
(
    [id] => 4
    [client_id] => 2499dada
    [spouse_id] => 
    [name] => Trevor
    [first_name] => Caryn
    [middle_name] => Adara Rush
    [last_name] => Ortiz
    [personal_email] => legegymu@mailinator.com
    [ncr] => 
    [bank] => TEST
    [accountant] => CH System
    [status] => Active
    [trader_id] => 
    [trading_capital] => 0
    [sda_mandate] => 261977
    [fia_mandate] => 111976
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => Consequatur laudant
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => Dolo
    [ovex_email] => 
    [mercantile_name] => Ayanna Hebert
    [bp_number] => 900
    [cif_number] => 590
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => Ad doloribus id numq
    [id_number] => 728
    [tax_number] => 964
    [phone_number] => 2278972122
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 1983
    [next_years_fia_mandate] => 1993
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 2024-06-17 23:12:47
    [created_by] => _sysadm_
    [settings] => 
    [notes] => Sint ducimus conseq
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 2024-06-17 23:12:47
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:12:47 - ClientState::__construct()

[Debug]:	2024-06-17 23:12:47 - ClientState::updateStateFor(), options = Array
(
)

[Debug]:	2024-06-17 23:12:47 - ClientStatement::generate(), options = Array
(
    [year] => 2024
)


[Debug]:	2024-06-17 23:12:47 - getClientTrades(), type = All
[Debug]:	2024-06-17 23:12:47 - Year: 2024
[Debug]:	2024-06-17 23:12:47 - From Date: 2024-01-01
[Debug]:	2024-06-17 23:12:47 - To Date: 2024-12-31
[Debug]:	2024-06-17 23:12:47 - db::query()
[Debug]:	2024-06-17 23:12:47 - db::query(), Array
(
    [0] => SELECT * FROM trades WHERE deleted_at IS NULL AND client_id = ? AND `date` BETWEEN ? AND ? ORDER BY `date`, created_at
    [1] => ["2499dada","2024-01-01","2024-12-31"]
)


[Debug]:	2024-06-17 23:12:47 - Client::getAnnualInfo(), year = 2024
[Debug]:	2024-06-17 23:12:47 - db::query()
[Debug]:	2024-06-17 23:12:47 - db::buildQuery()
[Debug]:	2024-06-17 23:12:47 - db::query(), Array
(
    [0] => SELECT * FROM clients_annual_info WHERE client_id = ? AND year = ? LIMIT 1
    [1] => [4,"2024"]
)

[Debug]:	2024-06-17 23:12:47 - ClientStatement::generate(), annualInfo = stdClass Object
(
    [year] => 2024
    [client_id] => 4
    [trading_capital] => 0
    [fia_mandate] => 111976
    [sda_mandate] => 261977
)

[Debug]:	2024-06-17 23:12:47 - Fee::getChFee(), date = 2024-01-01
[Debug]:	2024-06-17 23:12:47 - db::query()
[Debug]:	2024-06-17 23:12:47 - db::buildQuery()
[Debug]:	2024-06-17 23:12:47 - db::query(), Array
(
    [0] => SELECT * FROM fees WHERE fee_type_id = ? AND start_date <= ? AND (end_date IS ? OR end_date >= ?) LIMIT 1
    [1] => [1,"2024-01-01",null,"2024-01-01"]
)

[Error]:	2024-06-17 23:12:47 - Fee::getChFee(), CH Fee not found for date 2024-01-01
[Debug]:	2024-06-17 23:12:47 - abort_uploads(), caller: exception
[Debug]:	2024-06-17 23:12:47 - abort_uploads(), files: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)



2024-06-17 23:12:56 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:12:56 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:12:56 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:12:56 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:12:56 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:12:56 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:12:56 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:12:56 - db::query()
[Debug]:	2024-06-17 23:12:56 - db::buildQuery()
[Debug]:	2024-06-17 23:12:56 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:12:56 - db::query()
[Debug]:	2024-06-17 23:12:56 - db::buildQuery()
[Debug]:	2024-06-17 23:12:56 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:12:56 - db::query()
[Debug]:	2024-06-17 23:12:56 - db::buildQuery()
[Debug]:	2024-06-17 23:12:56 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:12:56 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:12:56 - db::query()
[Debug]:	2024-06-17 23:12:56 - db::buildQuery()
[Debug]:	2024-06-17 23:12:56 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:12:58 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:12:58 - AJAX GET /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:12:58 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:12:58 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:12:58 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:12:58 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:12:58 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:12:58 - getClientById(), id = new
[Debug]:	2024-06-17 23:12:58 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 27a0ef8d
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:12:58 - Editing client: stdClass Object
(
    [id] => 
    [client_id] => 27a0ef8d
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND id != ? ORDER BY name asc
    [1] => [null,"new"]
)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM banks ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:12:58 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)

[Debug]:	2024-06-17 23:12:58 - db::query()
[Debug]:	2024-06-17 23:12:58 - db::buildQuery()
[Debug]:	2024-06-17 23:12:58 - db::query(), Array
(
    [0] => SELECT * FROM ch_ncrs ORDER BY name
    [1] => []
)



2024-06-17 23:14:15 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:14:15 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:14:15 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:14:15 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:14:15 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:14:15 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:14:15 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:14:15 - db::query()
[Debug]:	2024-06-17 23:14:15 - db::buildQuery()
[Debug]:	2024-06-17 23:14:15 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:14:15 - IS POST Request - POST: Array
(
    [id] => 
    [client_id] => 27a0ef8d
    [status] => Active
    [first_name] => TEST
    [middle_name] => TEST
    [last_name] => TEST
    [name] => TEST
    [personal_email] => TEST@gmail
    [spouse_id] => 
    [ncr] => 1
    [referrer_id] => 
    [phone_number] => 2782122121212
    [id_number] => 21222321312
    [accountant] => Personal
    [tax_number] => 12121221
    [bank] => TEST
    [cif_number] => 727
    [bp_number] => 36
    [capitec_id] => 212
    [mercantile_name] => Justine Best
    [address] => 2sdafsdfasdfdfsdfaf
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => 6012
    [trading_capital] => R 
    [sda_mandate] => R 
    [fia_mandate] => R 
    [next_years_sda_mandate] => R 
    [next_years_fia_mandate] => R 
    [spare_1] => 
    [spare_2] => 
    [notes] => WEDFSDAFSDF
    [action] => saveClient
)

[Debug]:	2024-06-17 23:14:15 - IS POST Request - FILES: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)

[Debug]:	2024-06-17 23:14:15 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:14:15 - IS POST Request - Action: saveClient
[Debug]:	2024-06-17 23:14:15 - db::query()
[Debug]:	2024-06-17 23:14:15 - db::buildQuery()
[Debug]:	2024-06-17 23:14:15 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id_number = ? LIMIT 1
    [1] => ["21222321312"]
)

[Debug]:	2024-06-17 23:14:15 - db::query()
[Debug]:	2024-06-17 23:14:15 - db::buildQuery()
[Debug]:	2024-06-17 23:14:15 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE client_id = ? LIMIT 1
    [1] => ["27a0ef8d"]
)

[Debug]:	2024-06-17 23:14:15 - getClientById(), id = new
[Debug]:	2024-06-17 23:14:15 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 2c7a0c25
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:14:15 - clientBefore = stdClass Object
(
    [id] => 
    [client_id] => 2c7a0c25
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:14:15 - db::save() Array
(
    [autoStamp] => 1
    [user] => _sysadm_
)

[Debug]:	2024-06-17 23:14:15 - db::insert(), data: Array
(
    [id] => 
    [client_id] => 27a0ef8d
    [status] => Active
    [first_name] => TEST
    [middle_name] => TEST
    [last_name] => TEST
    [name] => TEST
    [personal_email] => TEST@gmail
    [spouse_id] => 
    [ncr] => 1
    [referrer_id] => 
    [phone_number] => 2782122121212
    [id_number] => 21222321312
    [accountant] => Personal
    [tax_number] => 12121221
    [bank] => TEST
    [cif_number] => 727
    [bp_number] => 36
    [capitec_id] => 212
    [mercantile_name] => Justine Best
    [address] => 2sdafsdfasdfdfsdfaf
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => 6012
    [trading_capital] => R 
    [sda_mandate] => R 
    [fia_mandate] => R 
    [next_years_sda_mandate] => R 
    [next_years_fia_mandate] => R 
    [spare_1] => 
    [spare_2] => 
    [notes] => WEDFSDAFSDF
    [action] => saveClient
    [sync_at] => 2024-06-17 23:14:15
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:14:15 - db::autoStamp(), created_at: 2024-06-17 23:14:15
[Debug]:	2024-06-17 23:14:15 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:14:15 - db::execute()
[Debug]:	2024-06-17 23:14:15 - db::execute(), Array
(
    [0] => INSERT INTO `clients` ( client_id, status, first_name, middle_name, last_name, name, personal_email, spouse_id, ncr, referrer_id, phone_number, id_number, accountant, tax_number, bank, cif_number, bp_number, capitec_id, mercantile_name, address, suburb, city, province, country, postal_code, trading_capital, sda_mandate, fia_mandate, next_years_sda_mandate, next_years_fia_mandate, spare_1, spare_2, notes, sync_at, sync_by, sync_from, sync_type, created_at, created_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
    [1] => ["27a0ef8d","Active","TEST","TEST","TEST","TEST","TEST@gmail",null,"1",null,"2782122121212","21222321312","Personal","12121221","TEST","727","36","212","Justine Best","2sdafsdfasdfdfsdfaf","TEST","TEST","TEST","TEST","6012",0,0,0,0,0,null,null,"WEDFSDAFSDF","2024-06-17 23:14:15","_sysadm_","local","new","2024-06-17 23:14:15","_sysadm_"]
)

[Debug]:	2024-06-17 23:14:15 - Save client result: Array
(
    [status] => inserted
    [id] => 5
    [affected] => 1
)

[Debug]:	2024-06-17 23:14:15 - db::query()
[Debug]:	2024-06-17 23:14:15 - db::buildQuery()
[Debug]:	2024-06-17 23:14:15 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id = ? LIMIT 1
    [1] => ["5"]
)

[Debug]:	2024-06-17 23:14:15 - Saved client = stdClass Object
(
    [id] => 5
    [client_id] => 27a0ef8d
    [spouse_id] => 
    [name] => TEST
    [first_name] => TEST
    [middle_name] => TEST
    [last_name] => TEST
    [personal_email] => TEST@gmail
    [ncr] => 1
    [bank] => TEST
    [accountant] => Personal
    [status] => Active
    [trader_id] => 
    [trading_capital] => 0
    [sda_mandate] => 0
    [fia_mandate] => 0
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 2sdafsdfasdfdfsdfaf
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => 6012
    [ovex_email] => 
    [mercantile_name] => Justine Best
    [bp_number] => 36
    [cif_number] => 727
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 212
    [id_number] => 21222321312
    [tax_number] => 12121221
    [phone_number] => 2782122121212
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 0
    [next_years_fia_mandate] => 0
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 2024-06-17 23:14:15
    [created_by] => _sysadm_
    [settings] => 
    [notes] => WEDFSDAFSDF
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 2024-06-17 23:14:15
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:14:15 - ClientState::__construct()

[Debug]:	2024-06-17 23:14:15 - ClientState::updateStateFor(), options = Array
(
)

[Debug]:	2024-06-17 23:14:15 - ClientStatement::generate(), options = Array
(
    [year] => 2024
)


[Debug]:	2024-06-17 23:14:15 - getClientTrades(), type = All
[Debug]:	2024-06-17 23:14:15 - Year: 2024
[Debug]:	2024-06-17 23:14:15 - From Date: 2024-01-01
[Debug]:	2024-06-17 23:14:15 - To Date: 2024-12-31
[Debug]:	2024-06-17 23:14:15 - db::query()
[Debug]:	2024-06-17 23:14:15 - db::query(), Array
(
    [0] => SELECT * FROM trades WHERE deleted_at IS NULL AND client_id = ? AND `date` BETWEEN ? AND ? ORDER BY `date`, created_at
    [1] => ["27a0ef8d","2024-01-01","2024-12-31"]
)


[Debug]:	2024-06-17 23:14:15 - Client::getAnnualInfo(), year = 2024
[Debug]:	2024-06-17 23:14:15 - db::query()
[Debug]:	2024-06-17 23:14:15 - db::buildQuery()
[Debug]:	2024-06-17 23:14:15 - db::query(), Array
(
    [0] => SELECT * FROM clients_annual_info WHERE client_id = ? AND year = ? LIMIT 1
    [1] => [5,"2024"]
)

[Debug]:	2024-06-17 23:14:15 - ClientStatement::generate(), annualInfo = stdClass Object
(
    [year] => 2024
    [client_id] => 5
    [trading_capital] => 0
    [fia_mandate] => 0
    [sda_mandate] => 0
)

[Debug]:	2024-06-17 23:14:15 - Fee::getChFee(), date = 2024-01-01
[Debug]:	2024-06-17 23:14:15 - db::query()
[Debug]:	2024-06-17 23:14:15 - db::buildQuery()
[Debug]:	2024-06-17 23:14:15 - db::query(), Array
(
    [0] => SELECT * FROM fees WHERE fee_type_id = ? AND start_date <= ? AND (end_date IS ? OR end_date >= ?) LIMIT 1
    [1] => [1,"2024-01-01",null,"2024-01-01"]
)

[Error]:	2024-06-17 23:14:15 - Fee::getChFee(), CH Fee not found for date 2024-01-01
[Debug]:	2024-06-17 23:14:15 - abort_uploads(), caller: exception
[Debug]:	2024-06-17 23:14:15 - abort_uploads(), files: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)



2024-06-17 23:16:29 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:16:29 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:16:29 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:16:29 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:16:29 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:16:29 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:16:29 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:16:29 - db::query()
[Debug]:	2024-06-17 23:16:29 - db::buildQuery()
[Debug]:	2024-06-17 23:16:29 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:16:29 - db::query()
[Debug]:	2024-06-17 23:16:29 - db::buildQuery()
[Debug]:	2024-06-17 23:16:29 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:16:29 - db::query()
[Debug]:	2024-06-17 23:16:29 - db::buildQuery()
[Debug]:	2024-06-17 23:16:29 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:16:29 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:16:29 - db::query()
[Debug]:	2024-06-17 23:16:29 - db::buildQuery()
[Debug]:	2024-06-17 23:16:29 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:16:30 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:16:30 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:16:30 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:16:30 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:16:30 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:16:30 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:16:30 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:16:30 - db::query()
[Debug]:	2024-06-17 23:16:30 - db::buildQuery()
[Debug]:	2024-06-17 23:16:30 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:17:31 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:17:31 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:17:31 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:17:31 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:17:31 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:17:31 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:17:31 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:17:31 - db::query()
[Debug]:	2024-06-17 23:17:31 - db::buildQuery()
[Debug]:	2024-06-17 23:17:31 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:17:31 - db::query()
[Debug]:	2024-06-17 23:17:31 - db::buildQuery()
[Debug]:	2024-06-17 23:17:31 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:17:31 - db::query()
[Debug]:	2024-06-17 23:17:31 - db::buildQuery()
[Debug]:	2024-06-17 23:17:31 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:17:31 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:17:31 - db::query()
[Debug]:	2024-06-17 23:17:31 - db::buildQuery()
[Debug]:	2024-06-17 23:17:31 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:17:32 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:17:32 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:17:32 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:17:32 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:17:32 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:17:32 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:17:32 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:17:32 - db::query()
[Debug]:	2024-06-17 23:17:32 - db::buildQuery()
[Debug]:	2024-06-17 23:17:32 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:17:33 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:17:33 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:17:33 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:17:33 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:17:33 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:17:33 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:17:33 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:17:33 - db::query()
[Debug]:	2024-06-17 23:17:33 - db::buildQuery()
[Debug]:	2024-06-17 23:17:33 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:17:33 - db::query()
[Debug]:	2024-06-17 23:17:33 - db::buildQuery()
[Debug]:	2024-06-17 23:17:33 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:17:33 - db::query()
[Debug]:	2024-06-17 23:17:33 - db::buildQuery()
[Debug]:	2024-06-17 23:17:33 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:17:33 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:17:33 - db::query()
[Debug]:	2024-06-17 23:17:33 - db::buildQuery()
[Debug]:	2024-06-17 23:17:33 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:17:34 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:17:34 - AJAX GET /admin/tccs?view=edit&id=new
[Request]:	2024-06-17 23:17:34 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:17:34 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:17:34 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:17:34 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:17:34 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:17:34 - db::query()
[Debug]:	2024-06-17 23:17:34 - db::buildQuery()
[Debug]:	2024-06-17 23:17:34 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:17:34 - getTccById(), id = new
[Debug]:	2024-06-17 23:17:34 - Editing tcc: stdClass Object
(
    [id] => 
    [tcc_id] => cf349b6c-ed1a-498d-88c0-f7760d312f55
    [client_id] => 
    [status] => Pending
    [application_date] => 
    [date] => 
    [amount_cleared] => 
    [amount_reserved] => 
    [rollover] => 
    [amount_cleared_net] => 
    [amount_used] => 
    [amount_remaining] => 
    [amount_available] => 
    [expired] => 
    [tcc_pin] => 
    [notes] => 
    [allocated_trades] => 
    [tax_case_no] => 
    [tax_cert_pdf] => 
    [created_at] => 
    [created_by] => 
    [updated_at] => 
    [updated_by] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:17:34 - db::query()
[Debug]:	2024-06-17 23:17:34 - db::buildQuery()
[Debug]:	2024-06-17 23:17:34 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)



2024-06-17 23:17:36 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:17:36 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:17:36 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:17:36 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:17:36 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:17:36 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:17:36 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:17:36 - db::query()
[Debug]:	2024-06-17 23:17:36 - db::buildQuery()
[Debug]:	2024-06-17 23:17:36 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:17:36 - db::query()
[Debug]:	2024-06-17 23:17:36 - db::buildQuery()
[Debug]:	2024-06-17 23:17:36 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:17:36 - db::query()
[Debug]:	2024-06-17 23:17:36 - db::buildQuery()
[Debug]:	2024-06-17 23:17:36 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:17:36 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:17:36 - db::query()
[Debug]:	2024-06-17 23:17:36 - db::buildQuery()
[Debug]:	2024-06-17 23:17:36 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:17:56 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:17:56 - AJAX GET /admin/tccs?view=edit&id=new
[Request]:	2024-06-17 23:17:56 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:17:56 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:17:56 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:17:56 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:17:56 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:17:56 - db::query()
[Debug]:	2024-06-17 23:17:56 - db::buildQuery()
[Debug]:	2024-06-17 23:17:56 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:17:56 - getTccById(), id = new
[Debug]:	2024-06-17 23:17:56 - Editing tcc: stdClass Object
(
    [id] => 
    [tcc_id] => 65708447-a51d-4e39-99af-45347b5b1166
    [client_id] => 
    [status] => Pending
    [application_date] => 
    [date] => 
    [amount_cleared] => 
    [amount_reserved] => 
    [rollover] => 
    [amount_cleared_net] => 
    [amount_used] => 
    [amount_remaining] => 
    [amount_available] => 
    [expired] => 
    [tcc_pin] => 
    [notes] => 
    [allocated_trades] => 
    [tax_case_no] => 
    [tax_cert_pdf] => 
    [created_at] => 
    [created_by] => 
    [updated_at] => 
    [updated_by] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:17:56 - db::query()
[Debug]:	2024-06-17 23:17:56 - db::buildQuery()
[Debug]:	2024-06-17 23:17:56 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)



2024-06-17 23:19:23 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:19:23 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:19:23 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:19:23 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:19:23 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:19:23 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:19:23 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:19:23 - db::query()
[Debug]:	2024-06-17 23:19:23 - db::buildQuery()
[Debug]:	2024-06-17 23:19:23 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:19:23 - db::query()
[Debug]:	2024-06-17 23:19:23 - db::buildQuery()
[Debug]:	2024-06-17 23:19:23 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:19:24 - db::query()
[Debug]:	2024-06-17 23:19:24 - db::buildQuery()
[Debug]:	2024-06-17 23:19:24 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:19:24 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:19:24 - db::query()
[Debug]:	2024-06-17 23:19:24 - db::buildQuery()
[Debug]:	2024-06-17 23:19:24 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:20:47 - *** PAGE REQUEST *** 
[Request]:	2024-06-17 23:20:47 - GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:20:47 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:20:47 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:20:47 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:20:47 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:20:47 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:20:47 - db::query()
[Debug]:	2024-06-17 23:20:47 - db::buildQuery()
[Debug]:	2024-06-17 23:20:47 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:20:47 - db::query()
[Debug]:	2024-06-17 23:20:47 - db::buildQuery()
[Debug]:	2024-06-17 23:20:47 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:20:47 - db::query()
[Debug]:	2024-06-17 23:20:47 - db::buildQuery()
[Debug]:	2024-06-17 23:20:47 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:20:47 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:20:47 - db::query()
[Debug]:	2024-06-17 23:20:47 - db::buildQuery()
[Debug]:	2024-06-17 23:20:47 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:20:50 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:20:50 - AJAX GET /admin/tccs?view=edit&id=new
[Request]:	2024-06-17 23:20:50 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:20:50 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:20:50 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:20:50 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:20:50 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:20:50 - db::query()
[Debug]:	2024-06-17 23:20:50 - db::buildQuery()
[Debug]:	2024-06-17 23:20:50 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:20:50 - getTccById(), id = new
[Debug]:	2024-06-17 23:20:50 - Editing tcc: stdClass Object
(
    [id] => 
    [tcc_id] => c2d18690-5e0a-4e05-aafc-0c7f8c836468
    [client_id] => 
    [status] => Pending
    [application_date] => 
    [date] => 
    [amount_cleared] => 
    [amount_reserved] => 
    [rollover] => 
    [amount_cleared_net] => 
    [amount_used] => 
    [amount_remaining] => 
    [amount_available] => 
    [expired] => 
    [tcc_pin] => 
    [notes] => 
    [allocated_trades] => 
    [tax_case_no] => 
    [tax_cert_pdf] => 
    [created_at] => 
    [created_by] => 
    [updated_at] => 
    [updated_by] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:20:50 - db::query()
[Debug]:	2024-06-17 23:20:50 - db::buildQuery()
[Debug]:	2024-06-17 23:20:50 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)



2024-06-17 23:20:52 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:20:52 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:20:52 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:20:52 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:20:52 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:20:52 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:20:52 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:20:52 - db::query()
[Debug]:	2024-06-17 23:20:52 - db::buildQuery()
[Debug]:	2024-06-17 23:20:52 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:20:52 - db::query()
[Debug]:	2024-06-17 23:20:52 - db::buildQuery()
[Debug]:	2024-06-17 23:20:52 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:20:52 - db::query()
[Debug]:	2024-06-17 23:20:52 - db::buildQuery()
[Debug]:	2024-06-17 23:20:52 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:20:52 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:20:52 - db::query()
[Debug]:	2024-06-17 23:20:52 - db::buildQuery()
[Debug]:	2024-06-17 23:20:52 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:20:53 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:20:53 - AJAX GET /admin/tccs?view=edit&id=new
[Request]:	2024-06-17 23:20:53 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:20:53 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:20:53 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:20:53 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:20:53 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:20:53 - db::query()
[Debug]:	2024-06-17 23:20:53 - db::buildQuery()
[Debug]:	2024-06-17 23:20:53 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:20:53 - getTccById(), id = new
[Debug]:	2024-06-17 23:20:53 - Editing tcc: stdClass Object
(
    [id] => 
    [tcc_id] => 3846a5a0-b3ed-412e-92ba-c3ee478f44b7
    [client_id] => 
    [status] => Pending
    [application_date] => 
    [date] => 
    [amount_cleared] => 
    [amount_reserved] => 
    [rollover] => 
    [amount_cleared_net] => 
    [amount_used] => 
    [amount_remaining] => 
    [amount_available] => 
    [expired] => 
    [tcc_pin] => 
    [notes] => 
    [allocated_trades] => 
    [tax_case_no] => 
    [tax_cert_pdf] => 
    [created_at] => 
    [created_by] => 
    [updated_at] => 
    [updated_by] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:20:53 - db::query()
[Debug]:	2024-06-17 23:20:53 - db::buildQuery()
[Debug]:	2024-06-17 23:20:53 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)



2024-06-17 23:20:54 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:20:54 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:20:54 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:20:54 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:20:54 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:20:54 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:20:54 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:20:54 - db::query()
[Debug]:	2024-06-17 23:20:54 - db::buildQuery()
[Debug]:	2024-06-17 23:20:54 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:20:54 - db::query()
[Debug]:	2024-06-17 23:20:54 - db::buildQuery()
[Debug]:	2024-06-17 23:20:54 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:20:54 - db::query()
[Debug]:	2024-06-17 23:20:54 - db::buildQuery()
[Debug]:	2024-06-17 23:20:54 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:20:54 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:20:54 - db::query()
[Debug]:	2024-06-17 23:20:54 - db::buildQuery()
[Debug]:	2024-06-17 23:20:54 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:20:55 - *** PAGE REQUEST *** 
[Request]:	2024-06-17 23:20:55 - GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:20:55 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:20:55 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:20:55 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:20:55 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:20:55 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:20:55 - db::query()
[Debug]:	2024-06-17 23:20:55 - db::buildQuery()
[Debug]:	2024-06-17 23:20:55 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:20:55 - db::query()
[Debug]:	2024-06-17 23:20:55 - db::buildQuery()
[Debug]:	2024-06-17 23:20:55 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:20:55 - db::query()
[Debug]:	2024-06-17 23:20:55 - db::buildQuery()
[Debug]:	2024-06-17 23:20:55 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:20:55 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:20:55 - db::query()
[Debug]:	2024-06-17 23:20:55 - db::buildQuery()
[Debug]:	2024-06-17 23:20:55 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:20:57 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:20:57 - AJAX GET /admin/tccs?view=edit&id=new
[Request]:	2024-06-17 23:20:57 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:20:57 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:20:57 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:20:57 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:20:57 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:20:57 - db::query()
[Debug]:	2024-06-17 23:20:57 - db::buildQuery()
[Debug]:	2024-06-17 23:20:57 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:20:57 - getTccById(), id = new
[Debug]:	2024-06-17 23:20:57 - Editing tcc: stdClass Object
(
    [id] => 
    [tcc_id] => 8eda6f56-353b-4a13-ba58-64a499853da1
    [client_id] => 
    [status] => Pending
    [application_date] => 
    [date] => 
    [amount_cleared] => 
    [amount_reserved] => 
    [rollover] => 
    [amount_cleared_net] => 
    [amount_used] => 
    [amount_remaining] => 
    [amount_available] => 
    [expired] => 
    [tcc_pin] => 
    [notes] => 
    [allocated_trades] => 
    [tax_case_no] => 
    [tax_cert_pdf] => 
    [created_at] => 
    [created_by] => 
    [updated_at] => 
    [updated_by] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:20:57 - db::query()
[Debug]:	2024-06-17 23:20:57 - db::buildQuery()
[Debug]:	2024-06-17 23:20:57 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)



2024-06-17 23:21:23 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:21:23 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:21:23 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:21:23 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:21:23 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:21:23 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:21:23 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:21:23 - db::query()
[Debug]:	2024-06-17 23:21:23 - db::buildQuery()
[Debug]:	2024-06-17 23:21:23 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:21:23 - db::query()
[Debug]:	2024-06-17 23:21:23 - db::buildQuery()
[Debug]:	2024-06-17 23:21:23 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:21:23 - db::query()
[Debug]:	2024-06-17 23:21:23 - db::buildQuery()
[Debug]:	2024-06-17 23:21:23 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:21:23 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:21:23 - db::query()
[Debug]:	2024-06-17 23:21:23 - db::buildQuery()
[Debug]:	2024-06-17 23:21:23 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:21:25 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:21:25 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:21:25 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:21:25 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:21:25 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:21:25 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:21:25 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:21:25 - db::query()
[Debug]:	2024-06-17 23:21:25 - db::buildQuery()
[Debug]:	2024-06-17 23:21:25 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:21:27 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:21:27 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:21:27 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:21:27 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:21:27 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:21:27 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:21:27 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:21:27 - db::query()
[Debug]:	2024-06-17 23:21:27 - db::buildQuery()
[Debug]:	2024-06-17 23:21:27 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:21:27 - db::query()
[Debug]:	2024-06-17 23:21:27 - db::buildQuery()
[Debug]:	2024-06-17 23:21:27 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:21:27 - db::query()
[Debug]:	2024-06-17 23:21:27 - db::buildQuery()
[Debug]:	2024-06-17 23:21:27 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:21:27 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:21:27 - db::query()
[Debug]:	2024-06-17 23:21:27 - db::buildQuery()
[Debug]:	2024-06-17 23:21:27 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:21:28 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:21:28 - AJAX GET /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:21:28 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:21:28 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:21:28 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:21:28 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:21:28 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:21:28 - getClientById(), id = new
[Debug]:	2024-06-17 23:21:28 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 4788ecc9
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:21:28 - Editing client: stdClass Object
(
    [id] => 
    [client_id] => 4788ecc9
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND id != ? ORDER BY name asc
    [1] => [null,"new"]
)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM banks ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:21:28 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)

[Debug]:	2024-06-17 23:21:28 - db::query()
[Debug]:	2024-06-17 23:21:28 - db::buildQuery()
[Debug]:	2024-06-17 23:21:28 - db::query(), Array
(
    [0] => SELECT * FROM ch_ncrs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:21:28 - attrsStr = 
[Debug]:	2024-06-17 23:21:28 - inclFileRef = _partials/edit.css
[Debug]:	2024-06-17 23:21:28 - props = Array
(
)

[Debug]:	2024-06-17 23:21:28 - fileToInclude = C:\laragon\www\myhub\pages\admin\clients\_partials/edit.css
[Debug]:	2024-06-17 23:21:28 - attrsStr = 
[Debug]:	2024-06-17 23:21:28 - inclFileRef = _partials/edit.js
[Debug]:	2024-06-17 23:21:28 - props = Array
(
)

[Debug]:	2024-06-17 23:21:28 - fileToInclude = C:\laragon\www\myhub\pages\admin\clients\_partials/edit.js


2024-06-17 23:21:49 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:21:49 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:21:49 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:21:49 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:21:49 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:21:49 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:21:49 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:21:49 - db::query()
[Debug]:	2024-06-17 23:21:49 - db::buildQuery()
[Debug]:	2024-06-17 23:21:49 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:21:49 - db::query()
[Debug]:	2024-06-17 23:21:49 - db::buildQuery()
[Debug]:	2024-06-17 23:21:49 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:21:49 - db::query()
[Debug]:	2024-06-17 23:21:49 - db::buildQuery()
[Debug]:	2024-06-17 23:21:49 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:21:49 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:21:49 - db::query()
[Debug]:	2024-06-17 23:21:49 - db::buildQuery()
[Debug]:	2024-06-17 23:21:49 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:21:51 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:21:51 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:21:51 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:21:51 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:21:51 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:21:51 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:21:51 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:21:51 - db::query()
[Debug]:	2024-06-17 23:21:51 - db::buildQuery()
[Debug]:	2024-06-17 23:21:51 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:21:52 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:21:52 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:21:52 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:21:52 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:21:52 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:21:52 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:21:52 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:21:52 - db::query()
[Debug]:	2024-06-17 23:21:52 - db::buildQuery()
[Debug]:	2024-06-17 23:21:52 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:21:52 - db::query()
[Debug]:	2024-06-17 23:21:52 - db::buildQuery()
[Debug]:	2024-06-17 23:21:52 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:21:52 - db::query()
[Debug]:	2024-06-17 23:21:52 - db::buildQuery()
[Debug]:	2024-06-17 23:21:52 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:21:52 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:21:52 - db::query()
[Debug]:	2024-06-17 23:21:52 - db::buildQuery()
[Debug]:	2024-06-17 23:21:52 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:21:53 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:21:53 - AJAX GET /admin/tccs?view=edit&id=new
[Request]:	2024-06-17 23:21:53 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:21:53 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:21:53 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:21:53 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:21:53 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:21:53 - db::query()
[Debug]:	2024-06-17 23:21:53 - db::buildQuery()
[Debug]:	2024-06-17 23:21:53 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:21:53 - getTccById(), id = new
[Debug]:	2024-06-17 23:21:53 - Editing tcc: stdClass Object
(
    [id] => 
    [tcc_id] => 3f45ca28-5c95-4fe6-b5b7-0e84bd66a196
    [client_id] => 
    [status] => Pending
    [application_date] => 
    [date] => 
    [amount_cleared] => 
    [amount_reserved] => 
    [rollover] => 
    [amount_cleared_net] => 
    [amount_used] => 
    [amount_remaining] => 
    [amount_available] => 
    [expired] => 
    [tcc_pin] => 
    [notes] => 
    [allocated_trades] => 
    [tax_case_no] => 
    [tax_cert_pdf] => 
    [created_at] => 
    [created_by] => 
    [updated_at] => 
    [updated_by] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:21:53 - db::query()
[Debug]:	2024-06-17 23:21:53 - db::buildQuery()
[Debug]:	2024-06-17 23:21:53 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)



2024-06-17 23:22:05 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:22:05 - AJAX GET /admin/tccs?back=dashboard
[Request]:	2024-06-17 23:22:05 - File: C:\laragon\www\myhub\pages\admin\tccs\tccs.php
[Request]:	2024-06-17 23:22:05 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:22:05 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:22:05 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:22:05 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:22:05 - db::query()
[Debug]:	2024-06-17 23:22:05 - db::buildQuery()
[Debug]:	2024-06-17 23:22:05 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:22:05 - db::query()
[Debug]:	2024-06-17 23:22:05 - db::buildQuery()
[Debug]:	2024-06-17 23:22:05 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:22:05 - db::query()
[Debug]:	2024-06-17 23:22:05 - db::buildQuery()
[Debug]:	2024-06-17 23:22:05 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:22:05 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:22:05 - db::query()
[Debug]:	2024-06-17 23:22:05 - db::buildQuery()
[Debug]:	2024-06-17 23:22:05 - db::query(), Array
(
    [0] => SELECT * FROM view_tccs WHERE deleted_at IS ? AND created_at >= ? ORDER BY created_at DESC
    [1] => [null,"2024-06-17"]
)



2024-06-17 23:22:06 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:22:06 - AJAX GET /admin/dashboard
[Request]:	2024-06-17 23:22:06 - File: C:\laragon\www\myhub\pages\admin\dashboard\dashboard.php
[Request]:	2024-06-17 23:22:06 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:22:06 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:22:06 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:22:06 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:22:06 - db::query()
[Debug]:	2024-06-17 23:22:06 - db::buildQuery()
[Debug]:	2024-06-17 23:22:06 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)




2024-06-17 23:22:08 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:22:08 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:22:08 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:22:08 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:22:08 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:22:08 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:22:08 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:22:08 - db::query()
[Debug]:	2024-06-17 23:22:08 - db::buildQuery()
[Debug]:	2024-06-17 23:22:08 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:22:08 - db::query()
[Debug]:	2024-06-17 23:22:08 - db::buildQuery()
[Debug]:	2024-06-17 23:22:08 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:22:08 - db::query()
[Debug]:	2024-06-17 23:22:08 - db::buildQuery()
[Debug]:	2024-06-17 23:22:08 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:22:08 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:22:08 - db::query()
[Debug]:	2024-06-17 23:22:08 - db::buildQuery()
[Debug]:	2024-06-17 23:22:08 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:22:09 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:22:09 - AJAX GET /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:22:09 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:22:09 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:22:09 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:22:09 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:22:09 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:22:09 - getClientById(), id = new
[Debug]:	2024-06-17 23:22:09 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 4a1b3da3
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:22:09 - Editing client: stdClass Object
(
    [id] => 
    [client_id] => 4a1b3da3
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND id != ? ORDER BY name asc
    [1] => [null,"new"]
)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM banks ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM loc_cities ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM loc_suburbs ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM loc_provinces ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM loc_countries ORDER BY name
    [1] => []
)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:22:09 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM ch_referrers WHERE deleted_at IS ?
    [1] => [null]
)

[Debug]:	2024-06-17 23:22:09 - db::query()
[Debug]:	2024-06-17 23:22:09 - db::buildQuery()
[Debug]:	2024-06-17 23:22:09 - db::query(), Array
(
    [0] => SELECT * FROM ch_ncrs ORDER BY name
    [1] => []
)



2024-06-17 23:22:39 - *** AJAX REQUEST *** 
[Request]:	2024-06-17 23:22:39 - AJAX POST /admin/clients?view=edit&id=new
[Request]:	2024-06-17 23:22:39 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:22:39 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:22:39 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:22:39 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:22:39 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:22:39 - db::query()
[Debug]:	2024-06-17 23:22:39 - db::buildQuery()
[Debug]:	2024-06-17 23:22:39 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:22:39 - IS POST Request - POST: Array
(
    [id] => 
    [client_id] => Voluptatem inventor
    [status] => Active
    [first_name] => Joelle
    [middle_name] => Yoko Lowery
    [last_name] => Carroll
    [name] => Ignatius
    [personal_email] => kekuhi@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 2781212221
    [id_number] => 809
    [accountant] => Personal
    [tax_number] => 950
    [bank] => TEST
    [cif_number] => 930
    [bp_number] => 911
    [capitec_id] => Dolorem excepteur qu
    [mercantile_name] => Malachi Logan
    [address] => Rerum soluta qui aut
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => 1212
    [trading_capital] => R 1 122
    [sda_mandate] => R 092 007
    [fia_mandate] => R 012 012
    [next_years_sda_mandate] => R 1 996
    [next_years_fia_mandate] => R 2 018
    [spare_1] => 
    [spare_2] => 
    [notes] => Sed nulla non in id
    [action] => saveClient
)

[Debug]:	2024-06-17 23:22:39 - IS POST Request - FILES: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)

[Debug]:	2024-06-17 23:22:39 - IS POST Request - User: stdClass Object
(
    [id] => 1
    [user_id] => _sysadm_
    [role_id] => 1
    [username] => Sysadmin
    [password] => ***
    [first_name] => CH
    [last_name] => Cron
    [email] => sysadmin@currencyhub.co.za
    [verification_token] => 
    [status] => active
    [home] => admin/dashboard
    [failed_login_attempts] => 0
    [failed_logins] => 3
    [created_at] => 0000-00-00 00:00:00
    [created_by] => neelsdev
    [updated_at] => 
    [updated_by] => 
    [last_login_at] => 2024-06-17 23:08:16
    [last_activity_at] => 
    [role] => sysadmin
)

[Debug]:	2024-06-17 23:22:39 - IS POST Request - Action: saveClient
[Debug]:	2024-06-17 23:22:39 - db::query()
[Debug]:	2024-06-17 23:22:39 - db::buildQuery()
[Debug]:	2024-06-17 23:22:39 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id_number = ? LIMIT 1
    [1] => ["809"]
)

[Debug]:	2024-06-17 23:22:39 - db::query()
[Debug]:	2024-06-17 23:22:39 - db::buildQuery()
[Debug]:	2024-06-17 23:22:39 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE client_id = ? LIMIT 1
    [1] => ["Voluptatem inventor"]
)

[Debug]:	2024-06-17 23:22:39 - getClientById(), id = new
[Debug]:	2024-06-17 23:22:39 - createNewClient(), client: stdClass Object
(
    [id] => 
    [client_id] => 4bf20d64
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:22:39 - clientBefore = stdClass Object
(
    [id] => 
    [client_id] => 4bf20d64
    [spouse_id] => 
    [name] => 
    [first_name] => 
    [middle_name] => 
    [last_name] => 
    [personal_email] => 
    [ncr] => 
    [bank] => 
    [accountant] => 
    [status] => 
    [trader_id] => chmarkts
    [trading_capital] => 
    [sda_mandate] => 
    [fia_mandate] => 
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => 
    [suburb] => 
    [city] => 
    [province] => 
    [country] => 
    [postal_code] => 
    [ovex_email] => 
    [mercantile_name] => 
    [bp_number] => 
    [cif_number] => 
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => 
    [id_number] => 
    [tax_number] => 
    [phone_number] => 
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 
    [next_years_fia_mandate] => 
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 
    [created_by] => 
    [settings] => 
    [notes] => 
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 
    [sync_by] => 
    [sync_from] => 
    [sync_type] => 
)

[Debug]:	2024-06-17 23:22:39 - db::save() Array
(
    [autoStamp] => 1
    [user] => _sysadm_
)

[Debug]:	2024-06-17 23:22:39 - db::insert(), data: Array
(
    [id] => 
    [client_id] => Voluptatem inventor
    [status] => Active
    [first_name] => Joelle
    [middle_name] => Yoko Lowery
    [last_name] => Carroll
    [name] => Ignatius
    [personal_email] => kekuhi@mailinator.com
    [spouse_id] => 
    [ncr] => 
    [referrer_id] => 
    [phone_number] => 2781212221
    [id_number] => 809
    [accountant] => Personal
    [tax_number] => 950
    [bank] => TEST
    [cif_number] => 930
    [bp_number] => 911
    [capitec_id] => Dolorem excepteur qu
    [mercantile_name] => Malachi Logan
    [address] => Rerum soluta qui aut
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => 1212
    [trading_capital] => R 1 122
    [sda_mandate] => R 092 007
    [fia_mandate] => R 012 012
    [next_years_sda_mandate] => R 1 996
    [next_years_fia_mandate] => R 2 018
    [spare_1] => 
    [spare_2] => 
    [notes] => Sed nulla non in id
    [action] => saveClient
    [sync_at] => 2024-06-17 23:22:39
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:22:39 - db::autoStamp(), created_at: 2024-06-17 23:22:39
[Debug]:	2024-06-17 23:22:39 - db::autoStamp(), created_by: _sysadm_
[Debug]:	2024-06-17 23:22:39 - db::execute()
[Debug]:	2024-06-17 23:22:39 - db::execute(), Array
(
    [0] => INSERT INTO `clients` ( client_id, status, first_name, middle_name, last_name, name, personal_email, spouse_id, ncr, referrer_id, phone_number, id_number, accountant, tax_number, bank, cif_number, bp_number, capitec_id, mercantile_name, address, suburb, city, province, country, postal_code, trading_capital, sda_mandate, fia_mandate, next_years_sda_mandate, next_years_fia_mandate, spare_1, spare_2, notes, sync_at, sync_by, sync_from, sync_type, created_at, created_by ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
    [1] => ["Voluptatem inventor","Active","Joelle","Yoko Lowery","Carroll","Ignatius","kekuhi@mailinator.com",null,null,null,"2781212221","809","Personal","950","TEST","930","911","Dolorem excepteur qu","Malachi Logan","Rerum soluta qui aut","TEST","TEST","TEST","TEST","1212",1122,92007,12012,1996,2018,null,null,"Sed nulla non in id","2024-06-17 23:22:39","_sysadm_","local","new","2024-06-17 23:22:39","_sysadm_"]
)

[Debug]:	2024-06-17 23:22:39 - Save client result: Array
(
    [status] => inserted
    [id] => 6
    [affected] => 1
)

[Debug]:	2024-06-17 23:22:39 - db::query()
[Debug]:	2024-06-17 23:22:39 - db::buildQuery()
[Debug]:	2024-06-17 23:22:39 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE id = ? LIMIT 1
    [1] => ["6"]
)

[Debug]:	2024-06-17 23:22:39 - Saved client = stdClass Object
(
    [id] => 6
    [client_id] => Voluptatem inventor
    [spouse_id] => 
    [name] => Ignatius
    [first_name] => Joelle
    [middle_name] => Yoko Lowery
    [last_name] => Carroll
    [personal_email] => kekuhi@mailinator.com
    [ncr] => 
    [bank] => TEST
    [accountant] => Personal
    [status] => Active
    [trader_id] => 
    [trading_capital] => 1122
    [sda_mandate] => 92007
    [fia_mandate] => 12012
    [fia_approved] => 
    [sda_used] => 
    [fia_used] => 
    [referrer_id] => 
    [inhouse_referrer_15_percent] => 
    [third_party_referrer] => 
    [third_party_profit_percent] => 
    [fx_intermediary] => 
    [address] => Rerum soluta qui aut
    [suburb] => TEST
    [city] => TEST
    [province] => TEST
    [country] => TEST
    [postal_code] => 1212
    [ovex_email] => 
    [mercantile_name] => Malachi Logan
    [bp_number] => 911
    [cif_number] => 930
    [fia_pending] => 
    [fia_declined] => 
    [ovex_ref] => 
    [capitec_id] => Dolorem excepteur qu
    [id_number] => 809
    [tax_number] => 950
    [phone_number] => 2781212221
    [spare_1] => 
    [spare_2] => 
    [spare_3] => 
    [spare_4] => 
    [spare_5] => 
    [next_years_sda_mandate] => 1996
    [next_years_fia_mandate] => 2018
    [last_years_statement] => 
    [statement_file] => 
    [statement_pdf] => 
    [last_action] => 
    [action_at] => 
    [action_by] => 
    [updated_at] => 
    [updated_by] => 
    [created_at] => 2024-06-17 23:22:39
    [created_by] => _sysadm_
    [settings] => 
    [notes] => Sed nulla non in id
    [deleted_at] => 
    [deleted_by] => 
    [sync_at] => 2024-06-17 23:22:39
    [sync_by] => _sysadm_
    [sync_from] => local
    [sync_type] => new
)

[Debug]:	2024-06-17 23:22:39 - ClientState::__construct()

[Debug]:	2024-06-17 23:22:39 - ClientState::updateStateFor(), options = Array
(
)

[Debug]:	2024-06-17 23:22:39 - ClientStatement::generate(), options = Array
(
    [year] => 2024
)


[Debug]:	2024-06-17 23:22:39 - getClientTrades(), type = All
[Debug]:	2024-06-17 23:22:39 - Year: 2024
[Debug]:	2024-06-17 23:22:39 - From Date: 2024-01-01
[Debug]:	2024-06-17 23:22:39 - To Date: 2024-12-31
[Debug]:	2024-06-17 23:22:39 - db::query()
[Debug]:	2024-06-17 23:22:39 - db::query(), Array
(
    [0] => SELECT * FROM trades WHERE deleted_at IS NULL AND client_id = ? AND `date` BETWEEN ? AND ? ORDER BY `date`, created_at
    [1] => ["Voluptatem inventor","2024-01-01","2024-12-31"]
)


[Debug]:	2024-06-17 23:22:39 - Client::getAnnualInfo(), year = 2024
[Debug]:	2024-06-17 23:22:39 - db::query()
[Debug]:	2024-06-17 23:22:39 - db::buildQuery()
[Debug]:	2024-06-17 23:22:39 - db::query(), Array
(
    [0] => SELECT * FROM clients_annual_info WHERE client_id = ? AND year = ? LIMIT 1
    [1] => [6,"2024"]
)

[Debug]:	2024-06-17 23:22:39 - ClientStatement::generate(), annualInfo = stdClass Object
(
    [year] => 2024
    [client_id] => 6
    [trading_capital] => 1122
    [fia_mandate] => 12012
    [sda_mandate] => 92007
)

[Debug]:	2024-06-17 23:22:39 - Fee::getChFee(), date = 2024-01-01
[Debug]:	2024-06-17 23:22:39 - db::query()
[Debug]:	2024-06-17 23:22:39 - db::buildQuery()
[Debug]:	2024-06-17 23:22:39 - db::query(), Array
(
    [0] => SELECT * FROM fees WHERE fee_type_id = ? AND start_date <= ? AND (end_date IS ? OR end_date >= ?) LIMIT 1
    [1] => [1,"2024-01-01",null,"2024-01-01"]
)

[Error]:	2024-06-17 23:22:39 - Fee::getChFee(), CH Fee not found for date 2024-01-01
[Debug]:	2024-06-17 23:22:39 - abort_uploads(), caller: exception
[Debug]:	2024-06-17 23:22:39 - abort_uploads(), files: Array
(
    [spare_1_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

    [spare_2_file] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)



2024-06-17 23:22:55 - *** AJAX PAGE REQUEST *** 
[Request]:	2024-06-17 23:22:55 - AJAX GET /admin/clients?back=dashboard
[Request]:	2024-06-17 23:22:55 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:22:55 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:22:55 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:22:55 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:22:55 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:22:55 - db::query()
[Debug]:	2024-06-17 23:22:55 - db::buildQuery()
[Debug]:	2024-06-17 23:22:55 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:22:55 - db::query()
[Debug]:	2024-06-17 23:22:55 - db::buildQuery()
[Debug]:	2024-06-17 23:22:55 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:22:55 - db::query()
[Debug]:	2024-06-17 23:22:55 - db::buildQuery()
[Debug]:	2024-06-17 23:22:55 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:22:55 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:22:55 - db::query()
[Debug]:	2024-06-17 23:22:55 - db::buildQuery()
[Debug]:	2024-06-17 23:22:55 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)



2024-06-17 23:23:07 - *** PAGE REQUEST *** 
[Request]:	2024-06-17 23:23:07 - GET /admin/clients?back=dashboard&status=Active&accountant=All
[Request]:	2024-06-17 23:23:07 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:23:07 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:23:07 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:23:07 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:23:07 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:23:07 - db::query()
[Debug]:	2024-06-17 23:23:07 - db::buildQuery()
[Debug]:	2024-06-17 23:23:07 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:23:07 - db::query()
[Debug]:	2024-06-17 23:23:07 - db::buildQuery()
[Debug]:	2024-06-17 23:23:07 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:23:07 - db::query()
[Debug]:	2024-06-17 23:23:07 - db::buildQuery()
[Debug]:	2024-06-17 23:23:07 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:23:07 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:23:07 - db::query()
[Debug]:	2024-06-17 23:23:07 - db::buildQuery()
[Debug]:	2024-06-17 23:23:07 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)

[Debug]:	2024-06-17 23:23:07 - attrsStr = 
[Debug]:	2024-06-17 23:23:07 - inclFileRef = admin/head
[Debug]:	2024-06-17 23:23:07 - props = Array
(
)

[Debug]:	2024-06-17 23:23:07 - fileToInclude = C:\laragon\www\myhub\pages\_templates\default-theme\admin/head.html
[Debug]:	2024-06-17 23:23:07 - attrsStr = 
[Debug]:	2024-06-17 23:23:07 - inclFileRef = _partials/list
[Debug]:	2024-06-17 23:23:07 - props = Array
(
)

[Debug]:	2024-06-17 23:23:07 - fileToInclude = C:\laragon\www\myhub\pages\admin\clients\_partials/list.html
[Debug]:	2024-06-17 23:23:07 - attrsStr = 
[Debug]:	2024-06-17 23:23:07 - inclFileRef = _partials/list.css
[Debug]:	2024-06-17 23:23:07 - props = Array
(
)

[Debug]:	2024-06-17 23:23:07 - fileToInclude = C:\laragon\www\myhub\pages\admin\clients\_partials/list.css
[Debug]:	2024-06-17 23:23:07 - attrsStr = 
[Debug]:	2024-06-17 23:23:07 - inclFileRef = _partials/list.js
[Debug]:	2024-06-17 23:23:07 - props = Array
(
)

[Debug]:	2024-06-17 23:23:07 - fileToInclude = C:\laragon\www\myhub\pages\admin\clients\_partials/list.js
[Debug]:	2024-06-17 23:23:07 - attrsStr = 
[Debug]:	2024-06-17 23:23:07 - inclFileRef = admin/tail
[Debug]:	2024-06-17 23:23:07 - props = Array
(
)

[Debug]:	2024-06-17 23:23:07 - fileToInclude = C:\laragon\www\myhub\pages\_templates\default-theme\admin/tail.html


2024-06-17 23:23:10 - *** PAGE REQUEST *** 
[Request]:	2024-06-17 23:23:10 - GET /admin/clients?back=dashboard&status=All&accountant=All
[Request]:	2024-06-17 23:23:10 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:23:10 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:23:10 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:23:10 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:23:10 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:23:10 - db::query()
[Debug]:	2024-06-17 23:23:10 - db::buildQuery()
[Debug]:	2024-06-17 23:23:10 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:23:10 - db::query()
[Debug]:	2024-06-17 23:23:10 - db::buildQuery()
[Debug]:	2024-06-17 23:23:10 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:23:10 - db::save() Array
(
    [autoStamp] => 1
)

[Debug]:	2024-06-17 23:23:10 - db::update(), data: Array
(
    [id] => 10
    [user_id] => 1
    [setting_key] => clients_status
    [setting_value] => All
    [created_at] => 2024-06-17 16:34:28
    [updated_at] => 
)

[Debug]:	2024-06-17 23:23:10 - db::autoStamp(), updated_at: 2024-06-17 23:23:10
[Debug]:	2024-06-17 23:23:10 - db::execute()
[Debug]:	2024-06-17 23:23:10 - db::execute(), Array
(
    [0] => UPDATE `user_settings` SET `user_id` = ?, `setting_key` = ?, `setting_value` = ?, `created_at` = ?, `updated_at` = ? WHERE `id` = ?
    [1] => [1,"clients_status","All","2024-06-17 16:34:28","2024-06-17 23:23:10",10]
)

[Debug]:	2024-06-17 23:23:10 - db::query()
[Debug]:	2024-06-17 23:23:10 - db::buildQuery()
[Debug]:	2024-06-17 23:23:10 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:23:10 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:23:10 - db::query()
[Debug]:	2024-06-17 23:23:10 - db::buildQuery()
[Debug]:	2024-06-17 23:23:10 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? ORDER BY name asc
    [1] => [null]
)



2024-06-17 23:23:12 - *** PAGE REQUEST *** 
[Request]:	2024-06-17 23:23:12 - GET /admin/clients?back=dashboard&status=Active&accountant=All
[Request]:	2024-06-17 23:23:12 - File: C:\laragon\www\myhub\pages\admin\clients\clients.php
[Request]:	2024-06-17 23:23:12 - Session ID: fmsc5o0b9jap620rbblc7fnqh4
[App Security]:	2024-06-17 23:23:12 - Allowed Role/Group: "admin"
[Security]:	2024-06-17 23:23:12 - Security::denyIfRoleNot(), allowed roles: ["admin","super-admin","sysadmin"]
[Security]:	2024-06-17 23:23:12 - Security::denyIfRoleNot(), auth user's role: "sysadmin"
[Debug]:	2024-06-17 23:23:12 - db::query()
[Debug]:	2024-06-17 23:23:12 - db::buildQuery()
[Debug]:	2024-06-17 23:23:12 - db::query(), Array
(
    [0] => SELECT * FROM users WHERE id = ? LIMIT 1
    [1] => [1]
)


[Debug]:	2024-06-17 23:23:12 - db::query()
[Debug]:	2024-06-17 23:23:12 - db::buildQuery()
[Debug]:	2024-06-17 23:23:12 - db::query(), Array
(
    [0] => SELECT * FROM user_settings WHERE user_id = ? ORDER BY setting_key
    [1] => [1]
)

[Debug]:	2024-06-17 23:23:12 - db::save() Array
(
    [autoStamp] => 1
)

[Debug]:	2024-06-17 23:23:12 - db::update(), data: Array
(
    [id] => 10
    [user_id] => 1
    [setting_key] => clients_status
    [setting_value] => Active
    [created_at] => 2024-06-17 16:34:28
    [updated_at] => 2024-06-17 23:23:10
)

[Debug]:	2024-06-17 23:23:12 - db::autoStamp(), updated_at: 2024-06-17 23:23:12
[Debug]:	2024-06-17 23:23:12 - db::execute()
[Debug]:	2024-06-17 23:23:12 - db::execute(), Array
(
    [0] => UPDATE `user_settings` SET `user_id` = ?, `setting_key` = ?, `setting_value` = ?, `created_at` = ?, `updated_at` = ? WHERE `id` = ?
    [1] => [1,"clients_status","Active","2024-06-17 16:34:28","2024-06-17 23:23:12",10]
)

[Debug]:	2024-06-17 23:23:12 - db::query()
[Debug]:	2024-06-17 23:23:12 - db::buildQuery()
[Debug]:	2024-06-17 23:23:12 - db::query(), Array
(
    [0] => SELECT u.id, u.user_id, u.username, u.first_name, u.last_name, u.email, r.name as role, r.home FROM users as u LEFT JOIN sys_roles as r on (u.role_id = r.id) WHERE r.name = ? ORDER BY u.first_name, u.last_name
    [1] => ["accountant"]
)

[Debug]:	2024-06-17 23:23:12 - users: Array
(
    [0] => stdClass Object
        (
            [id] => 2
            [user_id] => _acntnt_
            [username] => Accountant
            [first_name] => CH
            [last_name] => System
            [email] => accountant@currencyhub.co.za
            [role] => accountant
            [home] => accountant/dashboard
        )

)

[Debug]:	2024-06-17 23:23:12 - db::query()
[Debug]:	2024-06-17 23:23:12 - db::buildQuery()
[Debug]:	2024-06-17 23:23:12 - db::query(), Array
(
    [0] => SELECT * FROM clients WHERE deleted_at IS ? AND status = ? ORDER BY name asc
    [1] => [null,"Active"]
)

